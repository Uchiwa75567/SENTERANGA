<app-header></app-header>

<!-- Hero Section -->
<section class="relative min-h-screen flex flex-col justify-center items-start text-white px-4 sm:px-6 md:px-8 py-12 sm:py-16 md:py-20 pt-16 sm:pt-20"
  style="background: linear-gradient(180deg, rgba(0,0,0,0) 13.11%, rgba(0,0,0,0.72) 43.73%), url('/images/hero-farmer.png') 50% / cover no-repeat;">
  
  <div class="max-w-7xl mx-auto w-full">
    <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-4 sm:mb-6">
      SENTERANGA, au cœur de
      la nouvelle ère agricole du
      Sénégal.
    </h1>
    
    <p class="text-base sm:text-lg md:text-2xl lg:text-3xl font-normal tracking-wider leading-relaxed mb-6 sm:mb-8 max-w-4xl">
      SENTERANGA réunit l'ensemble des acteurs de la chaîne de valeur agricole — producteurs, institutions publiques, entreprises, GIE, grossistes et transformateurs — pour bâtir une agriculture moderne et durable.
    </p>
    
    <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
      <button class="bg-senteranga-green text-white px-6 sm:px-8 py-3 text-base sm:text-lg md:text-xl lg:text-2xl font-semibold rounded hover:bg-senteranga-green-dark transition-colors">
        Devenir Producteur
      </button>
      <button class="bg-white text-senteranga-green px-6 sm:px-8 py-3 text-base sm:text-lg md:text-xl lg:text-2xl font-semibold rounded hover:bg-gray-100 transition-colors">
        Rechercher un fournisseur
      </button>
    </div>
  </div>
  
</section>

<!-- Marketplace Title and Search -->
<section class="pt-8 sm:pt-12 pb-6 sm:pb-8 px-4 sm:px-6 md:px-8 bg-white">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-center text-black leading-tight mb-8 sm:mb-12">
      Marché <span class="text-senteranga-green">Agricole</span>
    </h2>
    
    <!-- Search and Filter Bar -->
    <div class="bg-white border border-gray-200 rounded-xl shadow-lg p-4 sm:p-6">
      <div class="flex flex-col md:flex-row gap-4 items-stretch md:items-center">
        <!-- Search Input -->
        <div class="flex-1 border border-[#b3afaf] rounded-[10px] px-3 sm:px-4 py-2 sm:py-3 flex items-center gap-2 sm:gap-3 w-full">
          <input 
            type="text" 
            placeholder="Recherche de produits..." 
            [(ngModel)]="searchQuery"
            class="flex-1 text-sm sm:text-base md:text-lg lg:text-xl font-medium text-[#8d8282] outline-none bg-transparent">
          <img src="/icons/search.svg" alt="Search" class="w-4 h-4 sm:w-5 sm:h-5 opacity-60">
        </div>
        
        <!-- Filter Dropdown -->
        <div class="flex items-center gap-2 sm:gap-4">
          <span class="text-sm sm:text-base md:text-lg lg:text-2xl font-medium text-[#374151] leading-5 whitespace-nowrap">Filtrer par:</span>
          <select [(ngModel)]="selectedFilter" 
            class="bg-[#efefef] border border-[#d1d5db] rounded-md px-3 sm:px-4 py-2 text-xs sm:text-sm leading-4">
            <option>Tous les types</option>
            <option>Légumes</option>
            <option>Fruits</option>
            <option>Céréales</option>
          </select>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Main Content -->
<section class="py-6 sm:py-8 px-4 sm:px-6 md:px-8 bg-gray-50">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-6 sm:mb-8">
      <h3 class="text-2xl sm:text-3xl md:text-4xl font-medium text-senteranga-green">Catégories</h3>
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-black">Nouveau Arrivage</h2>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-[367px_1fr] gap-4 sm:gap-6 lg:gap-8">
      <!-- Sidebar - Categories -->
      <div class="space-y-6">
        <!-- Légumes Category -->
        <app-category-card [category]="categoryCards[0]"></app-category-card>
      </div>
      
      <!-- Products Grid - Légumes with Navigation Buttons -->
      <div class="flex items-center gap-2 sm:gap-4">
        <!-- Left Arrow Button -->
        <button 
          (click)="previousVegetables()"
          [disabled]="!canGoPreviousVegetables()"
          [class.opacity-50]="!canGoPreviousVegetables()"
          [class.cursor-not-allowed]="!canGoPreviousVegetables()"
          class="hidden sm:flex w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-200 items-center justify-center hover:bg-green-300 transition-colors flex-shrink-0 disabled:hover:bg-green-200">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <!-- Products Carousel Container -->
        <div class="flex-1 overflow-hidden">
          <!-- Mobile: Horizontal Scroll -->
          <div class="sm:hidden overflow-x-auto scrollbar-hide -mx-4 px-4">
            <div class="flex gap-4 pb-2">
              <div *ngFor="let product of vegetablesProducts" 
                   class="flex-shrink-0 w-[280px]">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </div>
          </div>
          
          <!-- Desktop: Carousel with buttons -->
          <div class="hidden sm:block">
            <div class="flex gap-4 md:gap-6 transition-transform duration-500 ease-in-out"
                 [style.transform]="'translateX(-' + (vegetablesIndex * (100 / itemsPerPage)) + '%)'">
              <div *ngFor="let product of vegetablesProducts" 
                   class="flex-shrink-0"
                   [style.width]="'calc((100% - ' + ((itemsPerPage - 1) * 24) + 'px) / ' + itemsPerPage + ')'">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Arrow Button -->
        <button 
          (click)="nextVegetables()"
          [disabled]="!canGoNextVegetables()"
          [class.opacity-50]="!canGoNextVegetables()"
          [class.cursor-not-allowed]="!canGoNextVegetables()"
          class="hidden sm:flex w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-200 items-center justify-center hover:bg-green-300 transition-colors flex-shrink-0 disabled:hover:bg-green-200">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Fruits Section -->
    <div class="grid grid-cols-1 lg:grid-cols-[367px_1fr] gap-4 sm:gap-6 lg:gap-8 mt-6">
      <div class="space-y-6">
        <app-category-card [category]="categoryCards[1]"></app-category-card>
      </div>
      
      <div class="flex items-center gap-2 sm:gap-4">
        <!-- Left Arrow Button -->
        <button 
          (click)="previousFruits()"
          [disabled]="!canGoPreviousFruits()"
          [class.opacity-50]="!canGoPreviousFruits()"
          [class.cursor-not-allowed]="!canGoPreviousFruits()"
          class="hidden sm:flex w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-200 items-center justify-center hover:bg-green-300 transition-colors flex-shrink-0 disabled:hover:bg-green-200">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <!-- Products Carousel Container -->
        <div class="flex-1 overflow-hidden">
          <!-- Mobile: Horizontal Scroll -->
          <div class="sm:hidden overflow-x-auto scrollbar-hide -mx-4 px-4">
            <div class="flex gap-4 pb-2">
              <div *ngFor="let product of fruitsProducts" 
                   class="flex-shrink-0 w-[280px]">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </div>
          </div>
          
          <!-- Desktop: Carousel with buttons -->
          <div class="hidden sm:block">
            <div class="flex gap-4 md:gap-6 transition-transform duration-500 ease-in-out"
                 [style.transform]="'translateX(-' + (fruitsIndex * (100 / itemsPerPage)) + '%)'">
              <div *ngFor="let product of fruitsProducts" 
                   class="flex-shrink-0"
                   [style.width]="'calc((100% - ' + ((itemsPerPage - 1) * 24) + 'px) / ' + itemsPerPage + ')'">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Arrow Button -->
        <button 
          (click)="nextFruits()"
          [disabled]="!canGoNextFruits()"
          [class.opacity-50]="!canGoNextFruits()"
          [class.cursor-not-allowed]="!canGoNextFruits()"
          class="hidden sm:flex w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-200 items-center justify-center hover:bg-green-300 transition-colors flex-shrink-0 disabled:hover:bg-green-200">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Céréales Section -->
    <div class="grid grid-cols-1 lg:grid-cols-[367px_1fr] gap-4 sm:gap-6 lg:gap-8 mt-6">
      <div class="space-y-6">
        <app-category-card [category]="categoryCards[2]"></app-category-card>
      </div>
      
      <div class="flex items-center gap-2 sm:gap-4">
        <!-- Left Arrow Button -->
        <button 
          (click)="previousCereals()"
          [disabled]="!canGoPreviousCereals()"
          [class.opacity-50]="!canGoPreviousCereals()"
          [class.cursor-not-allowed]="!canGoPreviousCereals()"
          class="hidden sm:flex w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-200 items-center justify-center hover:bg-green-300 transition-colors flex-shrink-0 disabled:hover:bg-green-200">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <!-- Products Carousel Container -->
        <div class="flex-1 overflow-hidden">
          <!-- Mobile: Horizontal Scroll -->
          <div class="sm:hidden overflow-x-auto scrollbar-hide -mx-4 px-4">
            <div class="flex gap-4 pb-2">
              <div *ngFor="let product of cerealsProducts" 
                   class="flex-shrink-0 w-[280px]">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </div>
          </div>
          
          <!-- Desktop: Carousel with buttons -->
          <div class="hidden sm:block">
            <div class="flex gap-4 md:gap-6 transition-transform duration-500 ease-in-out"
                 [style.transform]="'translateX(-' + (cerealsIndex * (100 / itemsPerPage)) + '%)'">
              <div *ngFor="let product of cerealsProducts" 
                   class="flex-shrink-0"
                   [style.width]="'calc((100% - ' + ((itemsPerPage - 1) * 24) + 'px) / ' + itemsPerPage + ')'">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Arrow Button -->
        <button 
          (click)="nextCereals()"
          [disabled]="!canGoNextCereals()"
          [class.opacity-50]="!canGoNextCereals()"
          [class.cursor-not-allowed]="!canGoNextCereals()"
          class="hidden sm:flex w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-200 items-center justify-center hover:bg-green-300 transition-colors flex-shrink-0 disabled:hover:bg-green-200">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

<app-footer></app-footer>