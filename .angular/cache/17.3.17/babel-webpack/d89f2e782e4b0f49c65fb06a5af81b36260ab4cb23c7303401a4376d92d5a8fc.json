{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { HeaderComponent } from '../../components/header/header.component';\nimport { FooterComponent } from '../../components/footer/footer.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction DashboardReservationsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 6);\n    i0.ɵɵelement(2, \"path\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"h3\", 8);\n    i0.ɵɵtext(4, \"Aucune r\\u00E9servation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 9);\n    i0.ɵɵtext(6, \"Vous n'avez pas encore fait de r\\u00E9servation pour des annonces.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 10);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(8, \"svg\", 11);\n    i0.ɵɵelement(9, \"path\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" Explorer les annonces \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardReservationsComponent_div_6_div_37_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"div\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 50);\n    i0.ɵɵelement(3, \"path\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"div\")(5, \"p\", 51);\n    i0.ɵɵtext(6, \"R\\u00E9servation accept\\u00E9e\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 52);\n    i0.ɵɵtext(8, \"Vous pouvez maintenant proc\\u00E9der \\u00E0 l'achat de ce produit.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction DashboardReservationsComponent_div_6_div_37_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 54);\n    i0.ɵɵelement(3, \"path\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"div\")(5, \"p\", 55);\n    i0.ɵɵtext(6, \"R\\u00E9servation refus\\u00E9e\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 56);\n    i0.ɵɵtext(8, \"L'agriculteur n'a pas pu accepter votre r\\u00E9servation.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction DashboardReservationsComponent_div_6_div_37_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 58);\n    i0.ɵɵelement(3, \"path\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"div\")(5, \"p\", 59);\n    i0.ɵɵtext(6, \"En attente de validation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 60);\n    i0.ɵɵtext(8, \"L'agriculteur doit encore valider votre r\\u00E9servation.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction DashboardReservationsComponent_div_6_div_37_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61)(1, \"a\", 62);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 63);\n    i0.ɵɵelement(3, \"path\", 64);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Acheter maintenant \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardReservationsComponent_div_6_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\", 35)(2, \"div\", 36)(3, \"div\", 37)(4, \"div\", 38);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 39)(7, \"div\", 40)(8, \"h4\", 31);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 41);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 42)(13, \"p\")(14, \"span\", 43);\n    i0.ɵɵtext(15, \"Quantit\\u00E9 r\\u00E9serv\\u00E9e:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\")(18, \"span\", 43);\n    i0.ɵɵtext(19, \"Date de r\\u00E9servation:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(22, DashboardReservationsComponent_div_6_div_37_div_22_Template, 9, 0, \"div\", 44)(23, DashboardReservationsComponent_div_6_div_37_div_23_Template, 9, 0, \"div\", 45)(24, DashboardReservationsComponent_div_6_div_37_div_24_Template, 9, 0, \"div\", 46);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 47);\n    i0.ɵɵtemplate(26, DashboardReservationsComponent_div_6_div_37_div_26_Template, 5, 0, \"div\", 48);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const reservation_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i_r2 + 1, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(reservation_r1.productTitle);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.getStatusColor(reservation_r1.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getStatusText(reservation_r1.status), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", reservation_r1.quantity, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(21, 10, reservation_r1.reservationDate, \"dd/MM/yyyy \\u00E0 HH:mm\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", reservation_r1.status === \"fulfilled\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", reservation_r1.status === \"cancelled\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", reservation_r1.status === \"active\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", reservation_r1.status === \"fulfilled\");\n  }\n}\nfunction DashboardReservationsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15)(3, \"div\", 16)(4, \"div\", 17);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 18);\n    i0.ɵɵelement(6, \"path\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"div\", 20)(8, \"p\", 21);\n    i0.ɵɵtext(9, \"En attente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 22);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 15)(13, \"div\", 16)(14, \"div\", 23);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(15, \"svg\", 24);\n    i0.ɵɵelement(16, \"path\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"div\", 20)(18, \"p\", 21);\n    i0.ɵɵtext(19, \"Accept\\u00E9es\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\", 22);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"div\", 15)(23, \"div\", 16)(24, \"div\", 26);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(25, \"svg\", 27);\n    i0.ɵɵelement(26, \"path\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(27, \"div\", 20)(28, \"p\", 21);\n    i0.ɵɵtext(29, \"Refus\\u00E9es\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 22);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(32, \"div\", 29)(33, \"div\", 30)(34, \"h3\", 31);\n    i0.ɵɵtext(35, \"Historique des r\\u00E9servations\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 32);\n    i0.ɵɵtemplate(37, DashboardReservationsComponent_div_6_div_37_Template, 27, 13, \"div\", 33);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r2.activeReservationsCount);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.fulfilledReservationsCount);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.cancelledReservationsCount);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.reservations);\n  }\n}\nexport let DashboardReservationsComponent = /*#__PURE__*/(() => {\n  class DashboardReservationsComponent {\n    constructor(cartService) {\n      this.cartService = cartService;\n      this.reservations = [];\n      this.currentUser = null;\n    }\n    ngOnInit() {\n      const raw = localStorage.getItem('currentUser');\n      this.currentUser = raw ? JSON.parse(raw) : null;\n      if (this.currentUser) {\n        this.loadReservations();\n      }\n    }\n    loadReservations() {\n      if (!this.currentUser) return;\n      this.cartService.getReservationsForClient(this.currentUser.id).subscribe(list => {\n        this.reservations = list || [];\n      });\n    }\n    getStatusText(status) {\n      switch (status) {\n        case 'active':\n          return 'En attente';\n        case 'fulfilled':\n          return 'Acceptée';\n        case 'cancelled':\n          return 'Refusée';\n        default:\n          return 'Inconnu';\n      }\n    }\n    getStatusColor(status) {\n      switch (status) {\n        case 'active':\n          return 'bg-yellow-100 text-yellow-800';\n        case 'fulfilled':\n          return 'bg-green-100 text-green-800';\n        case 'cancelled':\n          return 'bg-red-100 text-red-800';\n        default:\n          return 'bg-gray-100 text-gray-800';\n      }\n    }\n    // Getters for statistics\n    get activeReservationsCount() {\n      return this.reservations.filter(r => r.status === 'active').length;\n    }\n    get fulfilledReservationsCount() {\n      return this.reservations.filter(r => r.status === 'fulfilled').length;\n    }\n    get cancelledReservationsCount() {\n      return this.reservations.filter(r => r.status === 'cancelled').length;\n    }\n    static {\n      this.ɵfac = function DashboardReservationsComponent_Factory(t) {\n        return new (t || DashboardReservationsComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardReservationsComponent,\n        selectors: [[\"app-dashboard-reservations\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 8,\n        vars: 2,\n        consts: [[1, \"pt-20\", \"w-full\", \"px-4\", \"sm:px-6\", \"md:px-8\", \"py-6\", \"sm:py-8\", \"bg-gray-50\"], [1, \"max-w-7xl\", \"mx-auto\"], [1, \"text-2xl\", \"sm:text-3xl\", \"md:text-4xl\", \"font-bold\", \"mb-6\", \"sm:mb-8\", \"text-gray-900\"], [\"class\", \"text-center py-12\", 4, \"ngIf\"], [\"class\", \"space-y-6\", 4, \"ngIf\"], [1, \"text-center\", \"py-12\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-16\", \"h-16\", \"mx-auto\", \"mb-4\", \"text-gray-300\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\", \"mb-2\"], [1, \"text-gray-600\", \"mb-6\"], [\"routerLink\", \"/marche-agricole\", 1, \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"bg-senteranga-green\", \"text-white\", \"rounded-lg\", \"hover:bg-senteranga-green-dark\", \"transition-colors\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"], [1, \"space-y-6\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-4\", \"mb-6\"], [1, \"bg-white\", \"rounded-lg\", \"shadow\", \"p-4\"], [1, \"flex\", \"items-center\"], [1, \"p-2\", \"bg-yellow-100\", \"rounded-lg\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"text-yellow-600\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"ml-3\"], [1, \"text-sm\", \"font-medium\", \"text-gray-600\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\"], [1, \"p-2\", \"bg-green-100\", \"rounded-lg\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"text-green-600\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"p-2\", \"bg-red-100\", \"rounded-lg\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"text-red-600\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [1, \"bg-white\", \"rounded-lg\", \"shadow\", \"overflow-hidden\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-gray-200\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\"], [1, \"divide-y\", \"divide-gray-200\"], [\"class\", \"p-6 hover:bg-gray-50 transition-colors\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-6\", \"hover:bg-gray-50\", \"transition-colors\"], [1, \"flex\", \"items-start\", \"justify-between\"], [1, \"flex\", \"items-start\", \"space-x-4\"], [1, \"flex-shrink-0\"], [1, \"w-10\", \"h-10\", \"bg-senteranga-green\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"text-white\", \"font-bold\"], [1, \"flex-1\", \"min-w-0\"], [1, \"flex\", \"items-center\", \"space-x-3\", \"mb-2\"], [1, \"inline-flex\", \"items-center\", \"px-2.5\", \"py-0.5\", \"rounded-full\", \"text-xs\", \"font-medium\", 3, \"ngClass\"], [1, \"text-sm\", \"text-gray-600\", \"space-y-1\"], [1, \"font-medium\"], [\"class\", \"mt-3 p-3 bg-green-50 rounded-lg border border-green-200\", 4, \"ngIf\"], [\"class\", \"mt-3 p-3 bg-red-50 rounded-lg border border-red-200\", 4, \"ngIf\"], [\"class\", \"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200\", 4, \"ngIf\"], [1, \"flex-shrink-0\", \"ml-4\"], [\"class\", \"text-right\", 4, \"ngIf\"], [1, \"mt-3\", \"p-3\", \"bg-green-50\", \"rounded-lg\", \"border\", \"border-green-200\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-green-600\", \"mr-2\"], [1, \"text-sm\", \"font-medium\", \"text-green-800\"], [1, \"text-xs\", \"text-green-600\"], [1, \"mt-3\", \"p-3\", \"bg-red-50\", \"rounded-lg\", \"border\", \"border-red-200\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-red-600\", \"mr-2\"], [1, \"text-sm\", \"font-medium\", \"text-red-800\"], [1, \"text-xs\", \"text-red-600\"], [1, \"mt-3\", \"p-3\", \"bg-yellow-50\", \"rounded-lg\", \"border\", \"border-yellow-200\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-yellow-600\", \"mr-2\"], [1, \"text-sm\", \"font-medium\", \"text-yellow-800\"], [1, \"text-xs\", \"text-yellow-600\"], [1, \"text-right\"], [\"routerLink\", \"/marche-agricole\", 1, \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"bg-senteranga-green\", \"text-white\", \"text-sm\", \"rounded-lg\", \"hover:bg-senteranga-green-dark\", \"transition-colors\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-4\", \"h-4\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"]],\n        template: function DashboardReservationsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-header\");\n            i0.ɵɵelementStart(1, \"section\", 0)(2, \"div\", 1)(3, \"h1\", 2);\n            i0.ɵɵtext(4, \"Mes R\\u00E9servations\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(5, DashboardReservationsComponent_div_5_Template, 11, 0, \"div\", 3)(6, DashboardReservationsComponent_div_6_Template, 38, 4, \"div\", 4);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(7, \"app-footer\");\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.reservations.length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.reservations.length > 0);\n          }\n        },\n        dependencies: [CommonModule, i2.NgClass, i2.NgForOf, i2.NgIf, i2.DatePipe, RouterModule, i3.RouterLink, HeaderComponent, FooterComponent]\n      });\n    }\n  }\n  return DashboardReservationsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}