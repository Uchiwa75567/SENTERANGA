{"ast":null,"code":"import _asyncToGenerator from \"/home/bachir-uchiwa/Bureau/projet3D/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { HeaderComponent } from '../../components/header/header.component';\nimport { FooterComponent } from '../../components/footer/footer.component';\nimport { ReactiveFormsModule, FormsModule, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/data.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = (a0, a1, a2) => ({\n  \"bg-yellow-500 text-white\": a0,\n  \"bg-green-500 text-white\": a1,\n  \"bg-red-500 text-white\": a2\n});\nfunction DashboardAgriculteurComponent_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"label\", 28);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCC5 P\\u00E9riode de disponibilit\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8)(4, \"div\")(5, \"label\", 9);\n    i0.ɵɵtext(6, \"Date de d\\u00E9but *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\")(9, \"label\", 9);\n    i0.ɵɵtext(10, \"Date de fin *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 64);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 65)(13, \"p\", 66)(14, \"strong\");\n    i0.ɵɵtext(15, \"\\u2139\\uFE0F Note :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \" Cette annonce sera indisponible jusqu'\\u00E0 validation par l'administration, puis disponible uniquement pendant la p\\u00E9riode d\\u00E9finie. \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction DashboardAgriculteurComponent_div_87_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵelement(1, \"video\", 68);\n    i0.ɵɵelementStart(2, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function DashboardAgriculteurComponent_div_87_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.capturePhoto());\n    });\n    i0.ɵɵtext(3, \" \\uD83D\\uDCF8 Capturer \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardAgriculteurComponent_div_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u2713 \", ctx_r1.uploadedImageCount, \" image(s) s\\u00E9lectionn\\u00E9e(s) \");\n  }\n}\nfunction DashboardAgriculteurComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71);\n    i0.ɵɵtext(1, \" \\u26A0\\uFE0F Aucune image s\\u00E9lectionn\\u00E9e. L'image est obligatoire pour publier un produit. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardAgriculteurComponent_div_96_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 88);\n    i0.ɵɵelement(2, \"path\", 89);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardAgriculteurComponent_div_96_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"div\", 77);\n    i0.ɵɵtemplate(2, DashboardAgriculteurComponent_div_96_div_4_div_2_Template, 3, 0, \"div\", 78);\n    i0.ɵɵelementStart(3, \"div\", 79)(4, \"span\", 80);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 81);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 82)(9, \"div\", 83)(10, \"span\", 84);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 85)(13, \"div\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 86);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"background-image\", p_r3.images && p_r3.images.length > 0 ? \"url(\" + p_r3.images[0] + \")\" : \"none\")(\"background-size\", \"cover\")(\"background-position\", \"center\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !p_r3.images || p_r3.images.length === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r3.titre);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(18, _c0, p_r3.statutValidation === \"en_attente\", p_r3.statutValidation === \"valid\\u00E9\", p_r3.statutValidation === \"rejet\\u00E9\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", p_r3.statutValidation === \"en_attente\" ? \"\\u23F3 En attente\" : p_r3.statutValidation === \"valid\\u00E9\" ? \"\\u2713 Valid\\u00E9\" : \"\\u2717 Rejet\\u00E9\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", p_r3.categorie, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\\uD83D\\uDCE6 Quantit\\u00E9: \", p_r3.quantite, \" \", p_r3.unite, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\\uD83D\\uDCCA Minimum: \", p_r3.quantiteMinimale || \"-\", \" \", p_r3.unite, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDCB0 Prix/unit\\u00E9: \", p_r3.prixParUnite || \"-\", \" FCFA\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDCB5 Total: \", p_r3.prix, \" FCFA\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \\uD83D\\uDCCD \", p_r3.localisation, \" \");\n  }\n}\nfunction DashboardAgriculteurComponent_div_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 72)(1, \"h4\", 73);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 74);\n    i0.ɵɵtemplate(4, DashboardAgriculteurComponent_div_96_div_4_Template, 23, 22, \"div\", 75);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDCCA Mes produits (\", ctx_r1.products.length, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n  }\n}\nfunction DashboardAgriculteurComponent_div_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 90);\n    i0.ɵɵtext(1, \"Aucun produit trouv\\u00E9.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardAgriculteurComponent_div_110_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 93)(1, \"div\", 94)(2, \"div\", 95)(3, \"div\", 96);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 97);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 98)(8, \"input\", 99);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardAgriculteurComponent_div_110_div_1_Template_input_ngModelChange_8_listener($event) {\n      const s_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.seedOrderQty[s_r5.id], $event) || (ctx_r1.seedOrderQty[s_r5.id] = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 100);\n    i0.ɵɵlistener(\"click\", function DashboardAgriculteurComponent_div_110_div_1_Template_button_click_9_listener() {\n      const s_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.orderSeed(s_r5));\n    });\n    i0.ɵɵtext(10, \" Commander \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const s_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(s_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\\uD83D\\uDCB5 \", s_r5.price, \" FCFA / \", s_r5.unit || \"unit\\u00E9\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.seedOrderQty[s_r5.id]);\n  }\n}\nfunction DashboardAgriculteurComponent_div_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 91);\n    i0.ɵɵtemplate(1, DashboardAgriculteurComponent_div_110_div_1_Template, 11, 4, \"div\", 92);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.seeds);\n  }\n}\nfunction DashboardAgriculteurComponent_div_136_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 90);\n    i0.ɵɵtext(1, \"Aucune alerte pour votre r\\u00E9gion pour le moment.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardAgriculteurComponent_ul_137_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 102)(1, \"div\", 103);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 104);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const a_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r6.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r6.message);\n  }\n}\nfunction DashboardAgriculteurComponent_ul_137_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 29);\n    i0.ɵɵtemplate(1, DashboardAgriculteurComponent_ul_137_li_1_Template, 5, 2, \"li\", 101);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.alerts);\n  }\n}\nexport let DashboardAgriculteurComponent = /*#__PURE__*/(() => {\n  class DashboardAgriculteurComponent {\n    constructor(dataService, fb) {\n      this.dataService = dataService;\n      this.fb = fb;\n      // Data\n      this.products = [];\n      this.seeds = [];\n      this.seedOrderQty = {};\n      this.alerts = [];\n      this.currentUser = null;\n      this.uploadedImageCount = 0;\n      this.selectedImages = [];\n      this.cameraActive = false;\n      this.stream = null;\n    }\n    ngOnInit() {\n      const raw = localStorage.getItem('currentUser');\n      this.currentUser = raw ? JSON.parse(raw) : null;\n      // Initialize forms\n      this.productForm = this.fb.group({\n        titre: ['', Validators.required],\n        description: ['', Validators.required],\n        categorie: ['', Validators.required],\n        quantite: ['', [Validators.required, Validators.min(0)]],\n        quantiteMinimale: ['', [Validators.required, Validators.min(0)]],\n        // 'prix' removed from form: we compute total price from quantite * prixParUnite\n        prixParUnite: ['', [Validators.required, Validators.min(0)]],\n        unite: ['', Validators.required],\n        localisation: ['', Validators.required]\n      });\n      this.bankForm = this.fb.group({\n        bankName: [''],\n        accountNumber: ['']\n      });\n      this.loadInitial();\n    }\n    loadInitial() {\n      if (!this.currentUser) return;\n      // Load user's products\n      this.dataService.getProductsByUser(this.currentUser.id).subscribe(list => this.products = list || []);\n      // Load seeds catalog\n      this.dataService.getSeedsCatalog().subscribe(list => {\n        this.seeds = list || [];\n        this.seeds.forEach(s => this.seedOrderQty[s.id] = 1);\n      });\n      // Load alerts filtered by region\n      if (this.currentUser.region) {\n        this.dataService.getAlertsByRegion(this.currentUser.region).subscribe(list => this.alerts = list || []);\n      }\n      // Bank info prefill\n      if (this.currentUser.bankAccount) {\n        this.bankForm.patchValue(this.currentUser.bankAccount);\n      }\n    }\n    // Handle image file selection\n    onImagesSelected(event) {\n      this.selectedImages = Array.from(event.target.files || []);\n      this.uploadedImageCount = this.selectedImages.length;\n    }\n    // Start camera\n    startCamera() {\n      this.cameraActive = true;\n      navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'environment'\n        }\n      }).then(mediaStream => {\n        this.stream = mediaStream;\n        setTimeout(() => {\n          const video = document.getElementById('cameraVideo');\n          if (video) video.srcObject = mediaStream;\n        }, 100);\n      }).catch(err => {\n        console.error('Camera error:', err);\n        Swal.fire({\n          icon: 'error',\n          title: 'Erreur d\\'accès à la caméra',\n          text: 'Vérifiez les permissions de votre navigateur',\n          confirmButtonColor: '#22c55e'\n        });\n        this.cameraActive = false;\n      });\n    }\n    // Capture photo from camera\n    capturePhoto() {\n      const video = document.getElementById('cameraVideo');\n      const canvas = document.getElementById('cameraCanvas');\n      if (!video || !canvas) return;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      ctx.drawImage(video, 0, 0);\n      canvas.toBlob(blob => {\n        if (blob) {\n          const file = new File([blob], `photo-${Date.now()}.jpg`, {\n            type: 'image/jpeg'\n          });\n          this.selectedImages.push(file);\n          this.uploadedImageCount = this.selectedImages.length;\n        }\n      }, 'image/jpeg', 0.95);\n    }\n    // Stop camera\n    stopCamera() {\n      this.cameraActive = false;\n      if (this.stream) {\n        this.stream.getTracks().forEach(track => track.stop());\n        this.stream = null;\n      }\n    }\n    // Publish product\n    publishProduct() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!_this.productForm.valid || !_this.currentUser) {\n          // Identify which controls are invalid to help debugging\n          const invalid = Object.keys(_this.productForm.controls).filter(k => _this.productForm.get(k)?.invalid);\n          console.warn('Product form invalid controls:', invalid);\n          const names = invalid.length ? invalid.join(', ') : 'inconnus';\n          Swal.fire({\n            icon: 'warning',\n            title: 'Champs obligatoires manquants',\n            text: 'Veuillez remplir tous les champs obligatoires. Champs invalides: ' + names,\n            confirmButtonColor: '#22c55e'\n          });\n          return;\n        }\n        // ⚠️ Check that at least 1 image is selected (MANDATORY)\n        if (_this.selectedImages.length === 0) {\n          Swal.fire({\n            icon: 'warning',\n            title: 'Image obligatoire',\n            text: 'Veuillez importer une photo ou en photographier une avant de publier le produit.',\n            confirmButtonColor: '#22c55e'\n          });\n          console.warn('Image upload required but none selected');\n          return;\n        }\n        // Upload images directly to Cloudinary (with unsigned preset)\n        try {\n          let uploadedUrls = [];\n          if (_this.selectedImages.length) {\n            const cloudName = 'djha1kqvu';\n            const uploadPreset = 'senteranga_products'; // You'll need to create this preset in Cloudinary\n            const uploadUrls = yield Promise.all(_this.selectedImages.map(/*#__PURE__*/function () {\n              var _ref = _asyncToGenerator(function* (file, index) {\n                const formData = new FormData();\n                formData.append('file', file);\n                formData.append('upload_preset', uploadPreset);\n                formData.append('folder', 'senteranga_products');\n                const response = yield fetch(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, {\n                  method: 'POST',\n                  body: formData\n                });\n                if (!response.ok) {\n                  throw new Error(`Cloudinary upload failed: ${response.statusText}`);\n                }\n                const result = yield response.json();\n                return result.secure_url;\n              });\n              return function (_x, _x2) {\n                return _ref.apply(this, arguments);\n              };\n            }()));\n            uploadedUrls = uploadUrls;\n          }\n          // compute total price from quantity and price per unit\n          const q = parseFloat(_this.productForm.value.quantite) || 0;\n          const ppu = parseFloat(_this.productForm.value.prixParUnite) || 0;\n          const totalPrice = q * ppu;\n          const product = {\n            id: `prod-${Date.now()}`,\n            agriculteurId: _this.currentUser.id,\n            titre: _this.productForm.value.titre,\n            description: _this.productForm.value.description,\n            categorie: _this.productForm.value.categorie,\n            quantite: q,\n            quantiteMinimale: parseFloat(_this.productForm.value.quantiteMinimale),\n            prix: totalPrice,\n            prixParUnite: ppu,\n            unite: _this.productForm.value.unite,\n            localisation: _this.productForm.value.localisation,\n            images: uploadedUrls,\n            statutValidation: 'en_attente',\n            statutDisponibilite: 'disponible',\n            datePublication: new Date().toISOString(),\n            dateMaj: new Date().toISOString()\n          };\n          _this.dataService.createProduct(product).subscribe({\n            next: created => {\n              _this.products.unshift(created);\n              Swal.fire({\n                icon: 'success',\n                title: 'Produit publié !',\n                text: 'Votre produit est en attente de validation par l\\'administration.',\n                confirmButtonColor: '#22c55e'\n              });\n              _this.resetProductForm();\n            },\n            error: err => {\n              console.error('Error publishing product', err);\n              Swal.fire({\n                icon: 'error',\n                title: 'Erreur de publication',\n                text: 'Une erreur s\\'est produite lors de la publication du produit.',\n                confirmButtonColor: '#22c55e'\n              });\n            }\n          });\n        } catch (err) {\n          console.error('Image upload failed', err);\n          Swal.fire({\n            icon: 'error',\n            title: 'Échec de l\\'upload',\n            text: 'Une erreur s\\'est produite lors de l\\'upload des images.',\n            confirmButtonColor: '#22c55e'\n          });\n        }\n      })();\n    }\n    // Reset product form and image selection\n    resetProductForm() {\n      this.productForm.reset();\n      this.selectedImages = [];\n      this.uploadedImageCount = 0;\n      this.stopCamera();\n    }\n    // Convert files to base64\n    convertImagesToBase64(files) {\n      return Promise.all(files.map(file => {\n        return new Promise(resolve => {\n          const reader = new FileReader();\n          reader.onload = () => {\n            resolve(reader.result);\n          };\n          reader.readAsDataURL(file);\n        });\n      }));\n    }\n    // Bank account save\n    saveBankAccount() {\n      if (!this.currentUser) return;\n      const bank = this.bankForm.value;\n      const payload = {\n        bankName: bank.bankName || '',\n        accountNumber: bank.accountNumber || ''\n      };\n      this.dataService.updateUserBankAccount(this.currentUser.id, payload).subscribe({\n        next: u => {\n          this.currentUser = u;\n          localStorage.setItem('currentUser', JSON.stringify(u));\n          Swal.fire({\n            icon: 'success',\n            title: 'Succès',\n            text: 'Compte bancaire enregistré avec succès',\n            confirmButtonColor: '#22c55e'\n          });\n        },\n        error: err => {\n          console.error(err);\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            text: 'Erreur lors de l\\'enregistrement du compte bancaire',\n            confirmButtonColor: '#22c55e'\n          });\n        }\n      });\n    }\n    // Order seed\n    orderSeed(seed) {\n      if (!this.currentUser) return;\n      const qty = this.seedOrderQty[seed.id] || 1;\n      const order = {\n        id: `order-${Date.now()}`,\n        userId: this.currentUser.id,\n        seedId: seed.id,\n        seedName: seed.name,\n        quantity: qty,\n        total: (seed.price || 0) * qty,\n        status: 'paid',\n        createdAt: new Date().toISOString()\n      };\n      this.dataService.createSeedOrder(order).subscribe({\n        next: res => {\n          Swal.fire({\n            icon: 'success',\n            title: 'Commande passée',\n            text: `Commande passée: ${order.seedName} x${qty}`,\n            confirmButtonColor: '#22c55e'\n          });\n        },\n        error: err => {\n          console.error(err);\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur de commande',\n            text: 'Une erreur s\\'est produite lors de la commande',\n            confirmButtonColor: '#22c55e'\n          });\n        }\n      });\n    }\n    static {\n      this.ɵfac = function DashboardAgriculteurComponent_Factory(t) {\n        return new (t || DashboardAgriculteurComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardAgriculteurComponent,\n        selectors: [[\"app-dashboard-agriculteur\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 139,\n        vars: 12,\n        consts: [[1, \"pt-20\", \"w-full\", \"px-4\", \"sm:px-6\", \"md:px-8\", \"py-6\", \"sm:py-8\", \"bg-gray-50\"], [1, \"max-w-7xl\", \"mx-auto\"], [1, \"text-2xl\", \"sm:text-3xl\", \"md:text-4xl\", \"font-bold\", \"mb-6\", \"sm:mb-8\", \"text-gray-900\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-4\", \"sm:gap-6\"], [1, \"lg:col-span-2\", \"space-y-4\", \"sm:space-y-6\"], [1, \"bg-white\", \"rounded-lg\", \"shadow\", \"p-4\", \"sm:p-6\"], [1, \"text-lg\", \"sm:text-xl\", \"font-bold\", \"mb-4\", \"sm:mb-5\", \"text-gray-900\"], [1, \"space-y-3\", \"sm:space-y-4\", 3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"grid-cols-1\", \"sm:grid-cols-2\", \"gap-3\", \"sm:gap-4\"], [1, \"block\", \"text-sm\", \"font-semibold\", \"mb-2\", \"text-gray-700\"], [\"formControlName\", \"titre\", \"placeholder\", \"Ex: Tomates rouges\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"formControlName\", \"categorie\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"value\", \"\"], [\"value\", \"L\\u00E9gumes\"], [\"value\", \"Fruits\"], [\"value\", \"C\\u00E9r\\u00E9ales\"], [\"formControlName\", \"description\", \"rows\", \"4\", \"placeholder\", \"D\\u00E9crivez votre produit...\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [1, \"grid\", \"grid-cols-2\", \"sm:grid-cols-4\", \"gap-3\", \"sm:gap-4\"], [\"type\", \"number\", \"formControlName\", \"quantite\", \"placeholder\", \"Quantit\\u00E9\", \"min\", \"0\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"type\", \"number\", \"formControlName\", \"quantiteMinimale\", \"placeholder\", \"Min\", \"min\", \"0\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"formControlName\", \"unite\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"value\", \"kg\"], [\"value\", \"tonne\"], [\"value\", \"litre\"], [\"value\", \"unite\"], [\"type\", \"number\", \"formControlName\", \"prixParUnite\", \"placeholder\", \"Prix\", \"min\", \"0\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"formControlName\", \"localisation\", \"placeholder\", \"Ville, Village, etc.\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [1, \"border-t\", \"pt-4\"], [1, \"block\", \"text-sm\", \"font-bold\", \"mb-3\", \"text-gray-900\"], [1, \"space-y-3\"], [1, \"flex\", \"items-center\"], [\"type\", \"radio\", \"id\", \"product\", \"formControlName\", \"publicationType\", \"value\", \"product\", 1, \"mr-3\"], [\"for\", \"product\", 1, \"text-sm\", \"font-medium\"], [\"type\", \"radio\", \"id\", \"announcement\", \"formControlName\", \"publicationType\", \"value\", \"announcement\", 1, \"mr-3\"], [\"for\", \"announcement\", 1, \"text-sm\", \"font-medium\"], [\"class\", \"border-t pt-4\", 4, \"ngIf\"], [1, \"border-l-4\", \"border-senteranga-green\", \"pl-4\"], [1, \"text-red-600\", \"font-bold\"], [1, \"ml-2\", \"inline-block\", \"px-2\", \"py-1\", \"bg-red-50\", \"text-red-700\", \"text-xs\", \"font-semibold\", \"rounded\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"gap-2\", \"sm:gap-3\", \"mb-4\"], [\"type\", \"file\", \"id\", \"fileInput\", \"multiple\", \"\", \"accept\", \"image/*\", 1, \"flex-1\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-sm\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\", 3, \"change\"], [\"type\", \"button\", 1, \"px-4\", \"py-2\", \"sm:py-3\", \"bg-blue-600\", \"text-white\", \"rounded-lg\", \"hover:bg-blue-700\", \"font-medium\", \"text-sm\", \"sm:text-base\", \"whitespace-nowrap\", 3, \"click\"], [\"class\", \"border border-gray-300 rounded-lg p-3 sm:p-4 bg-gray-100 mb-4\", 4, \"ngIf\"], [\"class\", \"text-sm font-medium text-green-600 mt-2 p-3 bg-green-50 rounded-lg\", 4, \"ngIf\"], [\"class\", \"text-sm font-medium text-red-600 mt-2 p-3 bg-red-50 rounded-lg border border-red-200\", 4, \"ngIf\"], [\"id\", \"cameraCanvas\", 2, \"display\", \"none\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"gap-2\", \"sm:gap-3\", \"pt-2\", \"sm:pt-4\"], [\"type\", \"submit\", 1, \"px-6\", \"py-2\", \"sm:py-3\", \"bg-senteranga-green\", \"text-white\", \"rounded-lg\", \"hover:bg-green-700\", \"font-semibold\", \"text-sm\", \"sm:text-base\"], [\"type\", \"button\", 1, \"px-6\", \"py-2\", \"sm:py-3\", \"bg-gray-200\", \"text-gray-700\", \"rounded-lg\", \"hover:bg-gray-300\", \"font-medium\", \"text-sm\", \"sm:text-base\", 3, \"click\"], [\"class\", \"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t\", 4, \"ngIf\"], [1, \"text-lg\", \"sm:text-xl\", \"font-bold\", \"mb-3\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-600\", \"mb-4\"], [1, \"w-full\", \"px-6\", \"py-2\", \"sm:py-3\", \"bg-blue-600\", \"text-white\", \"rounded-lg\", \"hover:bg-blue-700\", \"font-medium\", \"text-sm\", \"sm:text-base\"], [\"class\", \"text-sm text-gray-600 py-6 text-center bg-gray-50 rounded-lg\", 4, \"ngIf\"], [\"class\", \"space-y-3 sm:space-y-4\", 4, \"ngIf\"], [1, \"space-y-4\", \"sm:space-y-6\"], [1, \"text-lg\", \"sm:text-xl\", \"font-bold\", \"mb-4\", \"text-gray-900\"], [\"formControlName\", \"bankName\", \"placeholder\", \"Nom de la banque\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"formControlName\", \"accountNumber\", \"placeholder\", \"IBAN ou num\\u00E9ro de compte\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"gap-2\", \"sm:gap-3\"], [\"type\", \"submit\", 1, \"flex-1\", \"px-4\", \"py-2\", \"sm:py-3\", \"bg-green-600\", \"text-white\", \"rounded-lg\", \"hover:bg-green-700\", \"font-medium\", \"text-sm\", \"sm:text-base\"], [\"type\", \"button\", 1, \"flex-1\", \"px-4\", \"py-2\", \"sm:py-3\", \"bg-gray-200\", \"text-gray-700\", \"rounded-lg\", \"hover:bg-gray-300\", \"font-medium\", \"text-sm\", \"sm:text-base\", 3, \"click\"], [\"class\", \"space-y-3\", 4, \"ngIf\"], [\"type\", \"date\", \"formControlName\", \"dateDebutDisponibilite\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [\"type\", \"date\", \"formControlName\", \"dateFinDisponibilite\", \"required\", \"\", 1, \"w-full\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-3\", \"sm:px-4\", \"py-2\", \"sm:py-3\", \"text-base\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\"], [1, \"mt-3\", \"p-3\", \"bg-blue-50\", \"border\", \"border-blue-200\", \"rounded-lg\"], [1, \"text-sm\", \"text-blue-700\"], [1, \"border\", \"border-gray-300\", \"rounded-lg\", \"p-3\", \"sm:p-4\", \"bg-gray-100\", \"mb-4\"], [\"id\", \"cameraVideo\", \"autoplay\", \"\", \"playsinline\", \"\", 1, \"w-full\", \"rounded-lg\", \"mb-3\", 2, \"max-height\", \"300px\"], [\"type\", \"button\", 1, \"w-full\", \"px-4\", \"py-2\", \"sm:py-3\", \"bg-green-600\", \"text-white\", \"rounded-lg\", \"hover:bg-green-700\", \"font-medium\", \"text-sm\", \"sm:text-base\", 3, \"click\"], [1, \"text-sm\", \"font-medium\", \"text-green-600\", \"mt-2\", \"p-3\", \"bg-green-50\", \"rounded-lg\"], [1, \"text-sm\", \"font-medium\", \"text-red-600\", \"mt-2\", \"p-3\", \"bg-red-50\", \"rounded-lg\", \"border\", \"border-red-200\"], [1, \"mt-6\", \"sm:mt-8\", \"pt-6\", \"sm:pt-8\", \"border-t\"], [1, \"text-lg\", \"font-bold\", \"mb-6\", \"text-gray-900\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-6\"], [\"class\", \"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-white\", \"rounded-xl\", \"overflow-hidden\", \"shadow-md\", \"hover:shadow-xl\", \"transition-shadow\"], [1, \"relative\", \"h-48\", \"rounded-t-xl\", \"overflow-hidden\", \"bg-gray-200\"], [\"class\", \"w-full h-full flex items-center justify-center bg-gray-100\", 4, \"ngIf\"], [1, \"absolute\", \"bottom-3\", \"left-3\", \"bg-white/95\", \"px-3\", \"py-1\", \"rounded-md\", \"shadow-sm\"], [1, \"text-sm\", \"font-bold\", \"text-gray-900\"], [1, \"absolute\", \"top-3\", \"right-3\", \"px-2\", \"py-1\", \"rounded-full\", \"text-xs\", \"font-semibold\", 3, \"ngClass\"], [1, \"p-4\", \"space-y-3\"], [1, \"flex\", \"items-center\", \"gap-2\"], [1, \"px-2\", \"py-1\", \"rounded\", \"text-xs\", \"font-semibold\", \"bg-blue-50\", \"text-blue-600\"], [1, \"space-y-1\", \"text-xs\", \"font-medium\", \"text-gray-900\"], [1, \"text-xs\", \"text-gray-600\", \"pt-2\", \"border-t\"], [1, \"w-full\", \"h-full\", \"flex\", \"items-center\", \"justify-center\", \"bg-gray-100\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-12\", \"h-12\", \"text-gray-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"], [1, \"text-sm\", \"text-gray-600\", \"py-6\", \"text-center\", \"bg-gray-50\", \"rounded-lg\"], [1, \"space-y-3\", \"sm:space-y-4\"], [\"class\", \"border border-gray-300 rounded-lg p-4 hover:shadow transition\", 4, \"ngFor\", \"ngForOf\"], [1, \"border\", \"border-gray-300\", \"rounded-lg\", \"p-4\", \"hover:shadow\", \"transition\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"sm:items-center\", \"sm:justify-between\", \"gap-3\"], [1, \"flex-1\"], [1, \"font-semibold\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-600\", \"mt-1\"], [1, \"flex\", \"items-center\", \"gap-2\", \"w-full\", \"sm:w-auto\"], [\"type\", \"number\", \"min\", \"1\", 1, \"w-16\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-lg\", \"px-2\", \"py-2\", \"text-sm\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"outline-none\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex-1\", \"sm:flex-none\", \"px-4\", \"py-2\", \"bg-senteranga-green\", \"text-white\", \"rounded-lg\", \"hover:bg-green-700\", \"font-medium\", \"text-sm\", 3, \"click\"], [\"class\", \"border-l-4 border-orange-500 pl-3 sm:pl-4 py-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-l-4\", \"border-orange-500\", \"pl-3\", \"sm:pl-4\", \"py-2\"], [1, \"font-semibold\", \"text-gray-900\", \"text-sm\"], [1, \"text-xs\", \"text-gray-600\", \"mt-1\"]],\n        template: function DashboardAgriculteurComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-header\");\n            i0.ɵɵelementStart(1, \"section\", 0)(2, \"div\", 1)(3, \"h1\", 2);\n            i0.ɵɵtext(4, \"Espace Agriculteur\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"h2\", 6);\n            i0.ɵɵtext(9, \"\\uD83D\\uDCE6 Publier un produit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"form\", 7);\n            i0.ɵɵlistener(\"ngSubmit\", function DashboardAgriculteurComponent_Template_form_ngSubmit_10_listener() {\n              return ctx.publishProduct();\n            });\n            i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\")(13, \"label\", 9);\n            i0.ɵɵtext(14, \"Titre *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(15, \"input\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\")(17, \"label\", 9);\n            i0.ɵɵtext(18, \"Cat\\u00E9gorie *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"select\", 11)(20, \"option\", 12);\n            i0.ɵɵtext(21, \"S\\u00E9lectionner une cat\\u00E9gorie\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"option\", 13);\n            i0.ɵɵtext(23, \"L\\u00E9gumes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"option\", 14);\n            i0.ɵɵtext(25, \"Fruits\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"option\", 15);\n            i0.ɵɵtext(27, \"C\\u00E9r\\u00E9ales\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(28, \"div\")(29, \"label\", 9);\n            i0.ɵɵtext(30, \"Description *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(31, \"textarea\", 16);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"div\", 17)(33, \"div\")(34, \"label\", 9);\n            i0.ɵɵtext(35, \"Quantit\\u00E9 *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(36, \"input\", 18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"div\")(38, \"label\", 9);\n            i0.ɵɵtext(39, \"Min. *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(40, \"input\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\")(42, \"label\", 9);\n            i0.ɵɵtext(43, \"Unit\\u00E9 *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"select\", 20)(45, \"option\", 12);\n            i0.ɵɵtext(46, \"Unit\\u00E9\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(47, \"option\", 21);\n            i0.ɵɵtext(48, \"kg\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"option\", 22);\n            i0.ɵɵtext(50, \"Tonne\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"option\", 23);\n            i0.ɵɵtext(52, \"Litre\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"option\", 24);\n            i0.ɵɵtext(54, \"Unit\\u00E9\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(55, \"div\")(56, \"label\", 9);\n            i0.ɵɵtext(57, \"Prix/unit\\u00E9 *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(58, \"input\", 25);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(59, \"div\")(60, \"label\", 9);\n            i0.ɵɵtext(61, \"Localisation *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(62, \"input\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(63, \"div\", 27)(64, \"label\", 28);\n            i0.ɵɵtext(65, \"Type de publication\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"div\", 29)(67, \"div\", 30);\n            i0.ɵɵelement(68, \"input\", 31);\n            i0.ɵɵelementStart(69, \"label\", 32);\n            i0.ɵɵtext(70, \"Produit imm\\u00E9diat \\u2014 Disponible tout de suite\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(71, \"div\", 30);\n            i0.ɵɵelement(72, \"input\", 33);\n            i0.ɵɵelementStart(73, \"label\", 34);\n            i0.ɵɵtext(74, \"Annonce \\u2014 Disponible \\u00E0 une p\\u00E9riode d\\u00E9finie\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(75, DashboardAgriculteurComponent_div_75_Template, 17, 0, \"div\", 35);\n            i0.ɵɵelementStart(76, \"div\", 36)(77, \"label\", 28);\n            i0.ɵɵtext(78, \" \\uD83D\\uDCF7 Images \");\n            i0.ɵɵelementStart(79, \"span\", 37);\n            i0.ɵɵtext(80, \"*\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(81, \"span\", 38);\n            i0.ɵɵtext(82, \"OBLIGATOIRE\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(83, \"div\", 39)(84, \"input\", 40);\n            i0.ɵɵlistener(\"change\", function DashboardAgriculteurComponent_Template_input_change_84_listener($event) {\n              return ctx.onImagesSelected($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(85, \"button\", 41);\n            i0.ɵɵlistener(\"click\", function DashboardAgriculteurComponent_Template_button_click_85_listener() {\n              return !ctx.cameraActive ? ctx.startCamera() : ctx.stopCamera();\n            });\n            i0.ɵɵtext(86);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(87, DashboardAgriculteurComponent_div_87_Template, 4, 0, \"div\", 42)(88, DashboardAgriculteurComponent_div_88_Template, 2, 1, \"div\", 43)(89, DashboardAgriculteurComponent_div_89_Template, 2, 0, \"div\", 44);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(90, \"canvas\", 45);\n            i0.ɵɵelementStart(91, \"div\", 46)(92, \"button\", 47);\n            i0.ɵɵtext(93, \" \\u2713 Publier le produit \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(94, \"button\", 48);\n            i0.ɵɵlistener(\"click\", function DashboardAgriculteurComponent_Template_button_click_94_listener() {\n              return ctx.resetProductForm();\n            });\n            i0.ɵɵtext(95, \" Annuler \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(96, DashboardAgriculteurComponent_div_96_Template, 5, 2, \"div\", 49);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(97, \"div\", 5)(98, \"h2\", 50);\n            i0.ɵɵtext(99, \"\\uD83D\\uDCB0 Demande de subvention / investissement\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(100, \"p\", 51);\n            i0.ɵɵtext(101, \"Formulaires de demande (subvention / investissement) \\u2014 visibilit\\u00E9 pour les institutions et investisseurs.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(102, \"button\", 52);\n            i0.ɵɵtext(103, \" Faire une demande \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(104, \"div\", 5)(105, \"h2\", 50);\n            i0.ɵɵtext(106, \"\\uD83C\\uDF31 Catalogue de semences\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(107, \"p\", 51);\n            i0.ɵɵtext(108, \"Consultez le catalogue, commandez et payez pour am\\u00E9liorer votre production.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(109, DashboardAgriculteurComponent_div_109_Template, 2, 0, \"div\", 53)(110, DashboardAgriculteurComponent_div_110_Template, 2, 1, \"div\", 54);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(111, \"aside\", 55)(112, \"div\", 5)(113, \"h3\", 56);\n            i0.ɵɵtext(114, \"\\uD83C\\uDFE6 Compte bancaire\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(115, \"p\", 51);\n            i0.ɵɵtext(116, \"Ajouter un compte pour recevoir paiements et subventions.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(117, \"form\", 7);\n            i0.ɵɵlistener(\"ngSubmit\", function DashboardAgriculteurComponent_Template_form_ngSubmit_117_listener() {\n              return ctx.saveBankAccount();\n            });\n            i0.ɵɵelementStart(118, \"div\")(119, \"label\", 9);\n            i0.ɵɵtext(120, \"Banque\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(121, \"input\", 57);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(122, \"div\")(123, \"label\", 9);\n            i0.ɵɵtext(124, \"Num\\u00E9ro de compte\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(125, \"input\", 58);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(126, \"div\", 59)(127, \"button\", 60);\n            i0.ɵɵtext(128, \" \\u2713 Enregistrer \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(129, \"button\", 61);\n            i0.ɵɵlistener(\"click\", function DashboardAgriculteurComponent_Template_button_click_129_listener() {\n              return ctx.bankForm.reset();\n            });\n            i0.ɵɵtext(130, \" Annuler \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(131, \"div\", 5)(132, \"h3\", 56);\n            i0.ɵɵtext(133, \"\\u26A0\\uFE0F Alertes / Conseils\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(134, \"p\", 51);\n            i0.ɵɵtext(135, \"Recevez des alertes filtr\\u00E9es par r\\u00E9gion.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(136, DashboardAgriculteurComponent_div_136_Template, 2, 0, \"div\", 53)(137, DashboardAgriculteurComponent_ul_137_Template, 2, 1, \"ul\", 62);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelement(138, \"app-footer\");\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n            i0.ɵɵadvance(65);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.productForm.get(\"publicationType\")) == null ? null : tmp_1_0.value) === \"announcement\");\n            i0.ɵɵadvance(11);\n            i0.ɵɵtextInterpolate1(\" \", ctx.cameraActive ? \"\\u2715 Fermer\" : \"\\uD83D\\uDCF7 Photo\", \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.cameraActive);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.uploadedImageCount > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.uploadedImageCount === 0);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngIf\", ctx.products.length > 0);\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"ngIf\", ctx.seeds.length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.seeds.length > 0);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"formGroup\", ctx.bankForm);\n            i0.ɵɵadvance(19);\n            i0.ɵɵproperty(\"ngIf\", ctx.alerts.length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.alerts.length > 0);\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, RouterModule, HeaderComponent, FooterComponent, ReactiveFormsModule, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.RadioControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.MinValidator, i2.FormGroupDirective, i2.FormControlName, FormsModule, i2.NgModel],\n        styles: [\"input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #00843d1a}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .3s ease}@media (max-width: 640px){button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{min-height:44px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:16px}video[_ngcontent-%COMP%]{width:100%;object-fit:cover}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.75rem}.flex-col.sm\\\\:flex-row[_ngcontent-%COMP%]{gap:.5rem}aside[_ngcontent-%COMP%]{order:2}}@media (min-width: 640px) and (max-width: 1024px){.grid-cols-1.sm\\\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.grid-cols-2.sm\\\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.grid-cols-2.sm\\\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}aside[_ngcontent-%COMP%]{position:sticky;top:120px}}@media (max-width: 640px){h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}h2[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}h3[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.bg-yellow-100[_ngcontent-%COMP%], .bg-green-100[_ngcontent-%COMP%], .bg-red-100[_ngcontent-%COMP%]{white-space:nowrap}.border-gray-300[_ngcontent-%COMP%]{border-width:1px}.focus\\\\:ring-2[_ngcontent-%COMP%]{transition:box-shadow .2s ease}html[_ngcontent-%COMP%]{scroll-behavior:smooth}#cameraVideo[_ngcontent-%COMP%]{background:#000;border-radius:.5rem;display:block;width:100%}.border-gray-300[_ngcontent-%COMP%]:hover{transition:all .2s ease}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1rem}@media (max-width: 640px){form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.75rem}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}\"]\n      });\n    }\n  }\n  return DashboardAgriculteurComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}