{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { formatCurrency, formatUnitPrice, formatCartCount } from '../../utils/cart.formatters';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction CartPopupComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_0_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onClose());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartPopupComponent_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementStart(2, \"div\", 22)(3, \"h3\", 23);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 24);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 25);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 26)(10, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_div_10_Template_button_click_10_listener() {\n      const item_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.decrementQuantity(item_r5));\n    });\n    i0.ɵɵelement(11, \"img\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 29);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_div_10_Template_button_click_14_listener() {\n      const item_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.incrementQuantity(item_r5));\n    });\n    i0.ɵɵelement(15, \"img\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 31)(17, \"span\", 32);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_div_10_Template_button_click_19_listener() {\n      const item_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onRemoveItem(item_r5.id));\n    });\n    i0.ɵɵtext(20, \" Supprimer \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", item_r5.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", item_r5.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Par \", item_r5.producer, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatUnitPrice(item_r5.unitPrice, item_r5.unit), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"opacity-50\", item_r5.quantity <= 1);\n    i0.ɵɵproperty(\"disabled\", item_r5.quantity <= 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.quantity, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatCurrency(ctx_r1.getItemTotal(item_r5)), \" \");\n  }\n}\nfunction CartPopupComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_Template_div_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(1, \"div\", 4)(2, \"div\", 5);\n    i0.ɵɵelement(3, \"img\", 6);\n    i0.ɵɵelementStart(4, \"h2\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onClose());\n    });\n    i0.ɵɵelement(7, \"img\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 10)(9, \"div\", 11);\n    i0.ɵɵtemplate(10, CartPopupComponent_div_1_div_10_Template, 21, 10, \"div\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"div\", 14)(13, \"span\", 15);\n    i0.ɵɵtext(14, \"Total:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 16);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 17)(18, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onContinueShopping());\n    });\n    i0.ɵɵtext(19, \" Continuer mes Achats \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function CartPopupComponent_div_1_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onCheckout());\n    });\n    i0.ɵɵtext(21, \" Passer Commande \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Mon Panier \", ctx_r1.formatCartCount(ctx_r1.totalItems), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.items);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatCurrency(ctx_r1.cartTotal), \" \");\n  }\n}\nexport let CartPopupComponent = /*#__PURE__*/(() => {\n  class CartPopupComponent {\n    constructor() {\n      this.items = [];\n      this.isOpen = false;\n      this.close = new EventEmitter();\n      this.continueShopping = new EventEmitter();\n      this.checkout = new EventEmitter();\n      this.updateQuantity = new EventEmitter();\n      this.removeItem = new EventEmitter();\n    }\n    get totalItems() {\n      return this.items.length;\n    }\n    get cartTotal() {\n      return this.items.reduce((sum, item) => sum + item.unitPrice * item.quantity, 0);\n    }\n    formatCurrency(amount) {\n      return formatCurrency(amount);\n    }\n    formatUnitPrice(price, unit) {\n      return formatUnitPrice(price, unit);\n    }\n    formatCartCount(count) {\n      return formatCartCount(count);\n    }\n    getItemTotal(item) {\n      return item.unitPrice * item.quantity;\n    }\n    onClose() {\n      this.close.emit();\n    }\n    onContinueShopping() {\n      this.continueShopping.emit();\n      this.close.emit();\n    }\n    onCheckout() {\n      this.checkout.emit();\n    }\n    incrementQuantity(item) {\n      this.updateQuantity.emit({\n        itemId: item.id,\n        quantity: item.quantity + 1\n      });\n    }\n    decrementQuantity(item) {\n      if (item.quantity > 1) {\n        this.updateQuantity.emit({\n          itemId: item.id,\n          quantity: item.quantity - 1\n        });\n      }\n    }\n    onRemoveItem(itemId) {\n      this.removeItem.emit(itemId);\n    }\n    static {\n      this.ɵfac = function CartPopupComponent_Factory(t) {\n        return new (t || CartPopupComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CartPopupComponent,\n        selectors: [[\"app-cart-popup\"]],\n        inputs: {\n          items: \"items\",\n          isOpen: \"isOpen\"\n        },\n        outputs: {\n          close: \"close\",\n          continueShopping: \"continueShopping\",\n          checkout: \"checkout\",\n          updateQuantity: \"updateQuantity\",\n          removeItem: \"removeItem\"\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"fixed inset-0 bg-black bg-opacity-50 z-50\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-2xl z-50 w-full max-w-2xl max-h-[90vh] flex flex-col\", 3, \"click\", 4, \"ngIf\"], [1, \"fixed\", \"inset-0\", \"bg-black\", \"bg-opacity-50\", \"z-50\", 3, \"click\"], [1, \"fixed\", \"top-1/2\", \"left-1/2\", \"transform\", \"-translate-x-1/2\", \"-translate-y-1/2\", \"bg-white\", \"rounded-lg\", \"shadow-2xl\", \"z-50\", \"w-full\", \"max-w-2xl\", \"max-h-[90vh]\", \"flex\", \"flex-col\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\", \"px-6\", \"py-4\", \"border-b\", \"border-gray-200\"], [1, \"flex\", \"items-center\", \"gap-3\"], [\"src\", \"/icons/cart-icon.svg\", \"alt\", \"Cart\", 1, \"w-5\", \"h-5\"], [1, \"text-gray-900\", \"text-xl\", \"font-bold\"], [1, \"hover:opacity-70\", \"transition-opacity\", 3, \"click\"], [\"src\", \"/icons/close-icon.svg\", \"alt\", \"Close\", 1, \"w-3\", \"h-3\"], [1, \"flex-1\", \"overflow-y-auto\", \"px-6\", \"py-4\"], [1, \"space-y-4\"], [\"class\", \"flex items-center gap-4 p-4 border border-gray-200 rounded-lg\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-t\", \"border-gray-200\", \"px-6\", \"py-4\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-gray-900\", \"text-lg\", \"font-medium\"], [1, \"text-senteranga-green\", \"text-2xl\", \"font-bold\"], [1, \"flex\", \"items-center\", \"gap-4\"], [1, \"flex-1\", \"px-6\", \"py-3\", \"border-2\", \"border-senteranga-green\", \"text-senteranga-green\", \"text-base\", \"font-medium\", \"rounded-lg\", \"hover:bg-senteranga-green\", \"hover:text-white\", \"transition-colors\", 3, \"click\"], [1, \"flex-1\", \"px-6\", \"py-3\", \"bg-senteranga-green\", \"text-white\", \"text-base\", \"font-medium\", \"rounded-lg\", \"hover:bg-senteranga-green-dark\", \"transition-colors\", 3, \"click\"], [1, \"flex\", \"items-center\", \"gap-4\", \"p-4\", \"border\", \"border-gray-200\", \"rounded-lg\"], [1, \"w-16\", \"h-16\", \"rounded-lg\", \"object-cover\", \"flex-shrink-0\", 3, \"src\", \"alt\"], [1, \"flex-1\", \"min-w-0\"], [1, \"text-gray-900\", \"text-base\", \"font-medium\", \"truncate\"], [1, \"text-gray-600\", \"text-sm\"], [1, \"text-senteranga-green\", \"text-sm\", \"font-medium\"], [1, \"flex\", \"items-center\", \"gap-3\", \"flex-shrink-0\"], [1, \"hover:opacity-70\", \"transition-opacity\", 3, \"click\", \"disabled\"], [\"src\", \"/icons/minus-icon.svg\", \"alt\", \"Decrease\", 1, \"w-2\", \"h-0.5\"], [1, \"text-black\", \"text-base\", \"font-medium\", \"min-w-[2rem]\", \"text-center\"], [\"src\", \"/icons/plus-icon.svg\", \"alt\", \"Increase\", 1, \"w-2\", \"h-2\"], [1, \"flex\", \"flex-col\", \"items-end\", \"gap-1\", \"flex-shrink-0\"], [1, \"text-gray-900\", \"text-base\", \"font-bold\"], [1, \"text-red-500\", \"text-sm\", \"font-normal\", \"hover:text-red-600\", \"transition-colors\", 3, \"click\"]],\n        template: function CartPopupComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, CartPopupComponent_div_0_Template, 1, 0, \"div\", 0)(1, CartPopupComponent_div_1_Template, 22, 3, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.isOpen);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isOpen);\n          }\n        },\n        dependencies: [CommonModule, i1.NgForOf, i1.NgIf],\n        encapsulation: 2\n      });\n    }\n  }\n  return CartPopupComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}