"use strict";(self.webpackChunksenteranga=self.webpackChunksenteranga||[]).push([[739],{2739:(se,g,a)=>{a.r(g),a.d(g,{RegisterComponent:()=>le});var c=a(177),i=a(4341),p=a(7046),e=a(4438);function v(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){const l=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectUserType(l.value))}),e.j41(1,"div",21)(2,"div",22),e.EFF(3),e.k0s(),e.j41(4,"h3",23),e.EFF(5),e.k0s(),e.j41(6,"p",24),e.EFF(7),e.k0s()()()}if(2&r){const t=n.$implicit;e.R7$(3),e.JRh(t.icon),e.R7$(2),e.JRh(t.label),e.R7$(2),e.JRh(t.description)}}function f(r,n){if(1&r&&(e.j41(0,"div",16)(1,"h2",17),e.EFF(2,"Choisissez votre profil"),e.k0s(),e.j41(3,"div",18),e.DNE(4,v,8,3,"div",19),e.k0s()()),2&r){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.userTypes)}}function h(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Le pr\xe9nom est requis"),e.k0s())}function b(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Minimum 2 caract\xe8res"),e.k0s())}function F(r,n){if(1&r&&(e.j41(0,"div",39),e.DNE(1,h,2,0,"div",36)(2,b,2,0,"div",36),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.prenom||null==t.prenom.errors?null:t.prenom.errors.required),e.R7$(),e.Y8G("ngIf",null==t.prenom||null==t.prenom.errors?null:t.prenom.errors.minlength)}}function x(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Le nom est requis"),e.k0s())}function k(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Minimum 2 caract\xe8res"),e.k0s())}function R(r,n){if(1&r&&(e.j41(0,"div",39),e.DNE(1,x,2,0,"div",36)(2,k,2,0,"div",36),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.nom||null==t.nom.errors?null:t.nom.errors.required),e.R7$(),e.Y8G("ngIf",null==t.nom||null==t.nom.errors?null:t.nom.errors.minlength)}}function E(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Le num\xe9ro de t\xe9l\xe9phone est requis"),e.k0s())}function C(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Format invalide (ex: +221771234567)"),e.k0s())}function y(r,n){if(1&r&&(e.j41(0,"div",39),e.DNE(1,E,2,0,"div",36)(2,C,2,0,"div",36),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.telephone||null==t.telephone.errors?null:t.telephone.errors.required),e.R7$(),e.Y8G("ngIf",null==t.telephone||null==t.telephone.errors?null:t.telephone.errors.pattern)}}function j(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",44),e.nrm(1,"img",47),e.j41(2,"button",48),e.bIt("click",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.removeFile("idCardRecto"))}),e.qSk(),e.j41(3,"svg",49),e.nrm(4,"path",50),e.k0s()(),e.joV(),e.j41(5,"div",51),e.EFF(6," Recto "),e.k0s()()}if(2&r){const t=e.XpG(3);e.R7$(),e.Y8G("src",t.idCardRectoPreview,e.B4B)}}function I(r,n){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"input",52),e.bIt("change",function(l){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onFileChange(l,"idCardRecto"))}),e.k0s(),e.j41(2,"label",53)(3,"div",21),e.qSk(),e.j41(4,"svg",54),e.nrm(5,"path",55),e.k0s(),e.joV(),e.j41(6,"p",24),e.EFF(7,"Cliquez pour s\xe9lectionner"),e.k0s(),e.j41(8,"p",56),e.EFF(9,"PNG, JPG, GIF (max 5MB)"),e.k0s()()()()}if(2&r){const t=e.XpG(3);e.R7$(2),e.AVh("border-red-500",(null==t.idCardRecto?null:t.idCardRecto.invalid)&&(null==t.idCardRecto?null:t.idCardRecto.touched))}}function T(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," Le recto de la carte d'identit\xe9 est requis "),e.k0s())}function V(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",44),e.nrm(1,"img",57),e.j41(2,"button",48),e.bIt("click",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.removeFile("idCardVerso"))}),e.qSk(),e.j41(3,"svg",49),e.nrm(4,"path",50),e.k0s()(),e.joV(),e.j41(5,"div",51),e.EFF(6," Verso "),e.k0s()()}if(2&r){const t=e.XpG(3);e.R7$(),e.Y8G("src",t.idCardVersoPreview,e.B4B)}}function G(r,n){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"input",58),e.bIt("change",function(l){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onFileChange(l,"idCardVerso"))}),e.k0s(),e.j41(2,"label",59)(3,"div",21),e.qSk(),e.j41(4,"svg",54),e.nrm(5,"path",55),e.k0s(),e.joV(),e.j41(6,"p",24),e.EFF(7,"Cliquez pour s\xe9lectionner"),e.k0s(),e.j41(8,"p",56),e.EFF(9,"PNG, JPG, GIF (max 5MB)"),e.k0s()()()()}if(2&r){const t=e.XpG(3);e.R7$(2),e.AVh("border-red-500",(null==t.idCardVerso?null:t.idCardVerso.invalid)&&(null==t.idCardVerso?null:t.idCardVerso.touched))}}function $(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," Le verso de la carte d'identit\xe9 est requis "),e.k0s())}function P(r,n){if(1&r&&(e.j41(0,"div",40)(1,"h3",41),e.EFF(2,"Pi\xe8ce d'identit\xe9 (obligatoire)"),e.k0s(),e.j41(3,"p",42),e.EFF(4,"Veuillez t\xe9l\xe9charger les deux faces de votre carte d'identit\xe9 nationale"),e.k0s(),e.j41(5,"div",18)(6,"div")(7,"label",43),e.EFF(8," Recto de la carte d'identit\xe9 * "),e.k0s(),e.j41(9,"div",44),e.DNE(10,j,7,1,"div",45)(11,I,10,2,"div",36),e.k0s(),e.DNE(12,T,2,0,"div",30),e.k0s(),e.j41(13,"div")(14,"label",46),e.EFF(15," Verso de la carte d'identit\xe9 * "),e.k0s(),e.j41(16,"div",44),e.DNE(17,V,7,1,"div",45)(18,G,10,2,"div",36),e.k0s(),e.DNE(19,$,2,0,"div",30),e.k0s()()()),2&r){const t=e.XpG(2);e.R7$(10),e.Y8G("ngIf",t.idCardRectoPreview),e.R7$(),e.Y8G("ngIf",!t.idCardRectoPreview),e.R7$(),e.Y8G("ngIf",(null==t.idCardRecto?null:t.idCardRecto.invalid)&&(null==t.idCardRecto?null:t.idCardRecto.touched)),e.R7$(5),e.Y8G("ngIf",t.idCardVersoPreview),e.R7$(),e.Y8G("ngIf",!t.idCardVersoPreview),e.R7$(),e.Y8G("ngIf",(null==t.idCardVerso?null:t.idCardVerso.invalid)&&(null==t.idCardVerso?null:t.idCardVerso.touched))}}function w(r,n){if(1&r&&(e.j41(0,"option",68),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function N(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," La r\xe9gion est requise "),e.k0s())}function Y(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," Le d\xe9partement est requis "),e.k0s())}function D(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," Le village est requis "),e.k0s())}function X(r,n){if(1&r&&(e.j41(0,"div",40)(1,"div",18)(2,"div")(3,"label",60),e.EFF(4," R\xe9gion * "),e.k0s(),e.j41(5,"select",61)(6,"option",62),e.EFF(7,"S\xe9lectionnez une r\xe9gion"),e.k0s(),e.DNE(8,w,2,2,"option",63),e.k0s(),e.DNE(9,N,2,0,"div",30),e.k0s(),e.j41(10,"div")(11,"label",64),e.EFF(12," D\xe9partement * "),e.k0s(),e.nrm(13,"input",65),e.DNE(14,Y,2,0,"div",30),e.k0s()(),e.j41(15,"div")(16,"label",66),e.EFF(17," Village ou village le plus proche * "),e.k0s(),e.nrm(18,"input",67),e.DNE(19,D,2,0,"div",30),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(5),e.AVh("border-red-500",(null==t.region?null:t.region.invalid)&&(null==t.region?null:t.region.touched)),e.R7$(3),e.Y8G("ngForOf",t.regions),e.R7$(),e.Y8G("ngIf",(null==t.region?null:t.region.invalid)&&(null==t.region?null:t.region.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.departement?null:t.departement.invalid)&&(null==t.departement?null:t.departement.touched)),e.R7$(),e.Y8G("ngIf",(null==t.departement?null:t.departement.invalid)&&(null==t.departement?null:t.departement.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.village?null:t.village.invalid)&&(null==t.village?null:t.village.touched)),e.R7$(),e.Y8G("ngIf",(null==t.village?null:t.village.invalid)&&(null==t.village?null:t.village.touched))}}function q(r,n){if(1&r&&(e.j41(0,"div",73),e.nrm(1,"input",74),e.j41(2,"label",75),e.EFF(3),e.k0s()()),2&r){const t=n.$implicit;e.R7$(),e.Y8G("id",t.value)("value",t.value),e.R7$(),e.Y8G("for",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function A(r,n){1&r&&(e.j41(0,"div",76),e.EFF(1," Veuillez s\xe9lectionner un type d'achat "),e.k0s())}function L(r,n){if(1&r&&(e.j41(0,"div")(1,"label",69),e.EFF(2," Vous achetez pour : * "),e.k0s(),e.j41(3,"div",70),e.DNE(4,q,4,4,"div",71),e.k0s(),e.DNE(5,A,2,0,"div",72),e.k0s()),2&r){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.clientTypes),e.R7$(),e.Y8G("ngIf",(null==t.clientType?null:t.clientType.invalid)&&(null==t.clientType?null:t.clientType.touched))}}function B(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"L'adresse email est requise"),e.k0s())}function S(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Format d'email invalide"),e.k0s())}function M(r,n){if(1&r&&(e.j41(0,"div",39),e.DNE(1,B,2,0,"div",36)(2,S,2,0,"div",36),e.k0s()),2&r){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.email||null==t.email.errors?null:t.email.errors.required),e.R7$(),e.Y8G("ngIf",null==t.email||null==t.email.errors?null:t.email.errors.email)}}function U(r,n){if(1&r&&(e.j41(0,"div",73),e.nrm(1,"input",81),e.j41(2,"label",75),e.EFF(3),e.k0s()()),2&r){const t=n.$implicit;e.R7$(),e.Y8G("id",t.value)("value",t.value),e.R7$(),e.Y8G("for",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function z(r,n){1&r&&(e.j41(0,"div",76),e.EFF(1," Veuillez s\xe9lectionner un type d'investisseur "),e.k0s())}function O(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Le montant est requis"),e.k0s())}function J(r,n){1&r&&(e.j41(0,"div"),e.EFF(1,"Minimum 100 000 FCFA"),e.k0s())}function K(r,n){if(1&r&&(e.j41(0,"div",39),e.DNE(1,O,2,0,"div",36)(2,J,2,0,"div",36),e.k0s()),2&r){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.montantInvestissement||null==t.montantInvestissement.errors?null:t.montantInvestissement.errors.required),e.R7$(),e.Y8G("ngIf",null==t.montantInvestissement||null==t.montantInvestissement.errors?null:t.montantInvestissement.errors.min)}}function W(r,n){if(1&r&&(e.j41(0,"div",40)(1,"div")(2,"label",77),e.EFF(3," Adresse email * "),e.k0s(),e.nrm(4,"input",78),e.DNE(5,M,3,2,"div",30),e.k0s(),e.j41(6,"div")(7,"label",69),e.EFF(8," Vous \xeates : * "),e.k0s(),e.j41(9,"div",70),e.DNE(10,U,4,4,"div",71),e.k0s(),e.DNE(11,z,2,0,"div",72),e.k0s(),e.j41(12,"div")(13,"label",79),e.EFF(14," Montant moyen que vous souhaitez investir (FCFA) * "),e.k0s(),e.nrm(15,"input",80),e.DNE(16,K,3,2,"div",30),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.AVh("border-red-500",(null==t.email?null:t.email.invalid)&&(null==t.email?null:t.email.touched)),e.R7$(),e.Y8G("ngIf",(null==t.email?null:t.email.invalid)&&(null==t.email?null:t.email.touched)),e.R7$(5),e.Y8G("ngForOf",t.investorTypes),e.R7$(),e.Y8G("ngIf",(null==t.investorType?null:t.investorType.invalid)&&(null==t.investorType?null:t.investorType.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.montantInvestissement?null:t.montantInvestissement.invalid)&&(null==t.montantInvestissement?null:t.montantInvestissement.touched)),e.R7$(),e.Y8G("ngIf",(null==t.montantInvestissement?null:t.montantInvestissement.invalid)&&(null==t.montantInvestissement?null:t.montantInvestissement.touched))}}function H(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," Format d'email invalide "),e.k0s())}function Z(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," Format invalide (ex: +221771234567) "),e.k0s())}function Q(r,n){1&r&&(e.j41(0,"div",39),e.EFF(1," La structure est requise "),e.k0s())}function ee(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",73)(1,"input",89),e.bIt("change",function(l){const s=e.eBV(t).$implicit,d=e.XpG(3);return e.Njj(d.onRegionChange(s,l))}),e.k0s(),e.j41(2,"label",90),e.EFF(3),e.k0s()()}if(2&r){const t=n.$implicit,o=e.XpG(3);e.R7$(),e.Y8G("id","region-"+t)("checked",o.isRegionSelected(t)),e.R7$(),e.Y8G("for","region-"+t),e.R7$(),e.SpI(" ",t," ")}}function te(r,n){1&r&&(e.j41(0,"div",76),e.EFF(1," Veuillez s\xe9lectionner au moins une r\xe9gion "),e.k0s())}function re(r,n){if(1&r&&(e.j41(0,"div",40)(1,"div",18)(2,"div")(3,"label",82),e.EFF(4," Email professionnel "),e.k0s(),e.nrm(5,"input",83),e.DNE(6,H,2,0,"div",30),e.k0s(),e.j41(7,"div")(8,"label",84),e.EFF(9," T\xe9l\xe9phone professionnel "),e.k0s(),e.nrm(10,"input",85),e.DNE(11,Z,2,0,"div",30),e.k0s()(),e.j41(12,"div")(13,"label",86),e.EFF(14," Structure / Employeur * "),e.k0s(),e.nrm(15,"input",87),e.DNE(16,Q,2,0,"div",30),e.k0s(),e.j41(17,"div")(18,"label",69),e.EFF(19," R\xe9gions o\xf9 vous intervenez : * "),e.k0s(),e.j41(20,"div",88),e.DNE(21,ee,4,4,"div",71),e.k0s(),e.DNE(22,te,2,0,"div",72),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(5),e.AVh("border-red-500",(null==t.emailPro?null:t.emailPro.invalid)&&(null==t.emailPro?null:t.emailPro.touched)),e.R7$(),e.Y8G("ngIf",(null==t.emailPro?null:t.emailPro.invalid)&&(null==t.emailPro?null:t.emailPro.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.telephonePro?null:t.telephonePro.invalid)&&(null==t.telephonePro?null:t.telephonePro.touched)),e.R7$(),e.Y8G("ngIf",(null==t.telephonePro?null:t.telephonePro.invalid)&&(null==t.telephonePro?null:t.telephonePro.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.structure?null:t.structure.invalid)&&(null==t.structure?null:t.structure.touched)),e.R7$(),e.Y8G("ngIf",(null==t.structure?null:t.structure.invalid)&&(null==t.structure?null:t.structure.touched)),e.R7$(5),e.Y8G("ngForOf",t.regions),e.R7$(),e.Y8G("ngIf",(null==t.regionsIntervention?null:t.regionsIntervention.invalid)&&(null==t.regionsIntervention?null:t.regionsIntervention.touched))}}function ne(r,n){1&r&&(e.j41(0,"span",91),e.qSk(),e.j41(1,"svg",92),e.nrm(2,"circle",93)(3,"path",94),e.k0s(),e.EFF(4," Inscription en cours... "),e.k0s())}function ie(r,n){1&r&&(e.j41(0,"span"),e.EFF(1,"S'inscrire"),e.k0s())}function oe(r,n){if(1&r){const t=e.RV6();e.j41(0,"form",25),e.bIt("ngSubmit",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onSubmit())}),e.j41(1,"button",26),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.goBack())}),e.qSk(),e.j41(2,"svg",27),e.nrm(3,"path",3),e.k0s(),e.EFF(4," Retour au choix du profil "),e.k0s(),e.joV(),e.j41(5,"div",18)(6,"div")(7,"label",28),e.EFF(8," Pr\xe9nom * "),e.k0s(),e.nrm(9,"input",29),e.DNE(10,F,3,2,"div",30),e.k0s(),e.j41(11,"div")(12,"label",31),e.EFF(13," Nom * "),e.k0s(),e.nrm(14,"input",32),e.DNE(15,R,3,2,"div",30),e.k0s()(),e.j41(16,"div")(17,"label",33),e.EFF(18," Num\xe9ro de t\xe9l\xe9phone * "),e.k0s(),e.nrm(19,"input",34),e.DNE(20,y,3,2,"div",30),e.k0s(),e.DNE(21,P,20,6,"div",35)(22,X,20,10,"div",35)(23,L,6,2,"div",36)(24,W,17,8,"div",35)(25,re,23,11,"div",35),e.j41(26,"button",37),e.DNE(27,ne,5,0,"span",38)(28,ie,2,0,"span",36),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("formGroup",t.registrationForm),e.R7$(9),e.AVh("border-red-500",(null==t.prenom?null:t.prenom.invalid)&&(null==t.prenom?null:t.prenom.touched)),e.R7$(),e.Y8G("ngIf",(null==t.prenom?null:t.prenom.invalid)&&(null==t.prenom?null:t.prenom.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.nom?null:t.nom.invalid)&&(null==t.nom?null:t.nom.touched)),e.R7$(),e.Y8G("ngIf",(null==t.nom?null:t.nom.invalid)&&(null==t.nom?null:t.nom.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.telephone?null:t.telephone.invalid)&&(null==t.telephone?null:t.telephone.touched)),e.R7$(),e.Y8G("ngIf",(null==t.telephone?null:t.telephone.invalid)&&(null==t.telephone?null:t.telephone.touched)),e.R7$(),e.Y8G("ngIf","agriculteur"===t.selectedUserType||"client"===t.selectedUserType||"agronome"===t.selectedUserType),e.R7$(),e.Y8G("ngIf","agriculteur"===t.selectedUserType),e.R7$(),e.Y8G("ngIf","client"===t.selectedUserType),e.R7$(),e.Y8G("ngIf","investisseur"===t.selectedUserType),e.R7$(),e.Y8G("ngIf","agronome"===t.selectedUserType),e.R7$(),e.Y8G("disabled",t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading)}}let le=(()=>{class r{constructor(t,o){this.fb=t,this.router=o,this.selectedUserType=null,this.isLoading=!1,this.idCardRectoPreview=null,this.idCardVersoPreview=null,this.userTypes=[{value:"agriculteur",label:"Agriculteur/Producteur",description:"Producteurs agricoles, \xe9leveurs, p\xeacheurs",icon:"\u{1f33e}"},{value:"client",label:"Client Acheteur",description:"Particuliers, commer\xe7ants, grossistes",icon:"\u{1f6d2}"},{value:"investisseur",label:"Investisseur Agricole",description:"Investisseurs particuliers ou entreprises",icon:"\u{1f4b0}"},{value:"agronome",label:"Agronome/Conseiller",description:"Conseillers agricoles, techniciens, ONG",icon:"\u{1f468}\u200d\u{1f52c}"}],this.regions=["Dakar","Thi\xe8s","Saint-Louis","Kaolack","Ziguinchor","Louga","Matam","Kolda","Tambacounda","Fatick","Kaffrine","K\xe9dougou","S\xe9dhiou","Diourbel"],this.clientTypes=[{value:"famille",label:"Moi / ma famille"},{value:"boutique",label:"Ma boutique / restaurant"},{value:"commerce",label:"Mon commerce en gros"}],this.investorTypes=[{value:"particulier",label:"Particulier"},{value:"entreprise",label:"Entreprise / Fonds"}],this.registrationForm=this.createForm()}selectUserType(t){this.selectedUserType=t,this.registrationForm=this.createForm(),this.setValidatorsForUserType(t)}setValidatorsForUserType(t){this.clearValidators(),("agriculteur"===t||"client"===t||"agronome"===t)&&(this.registrationForm.get("idCardRecto")?.setValidators(i.k0.required),this.registrationForm.get("idCardVerso")?.setValidators(i.k0.required)),"agriculteur"===t?(this.registrationForm.get("region")?.setValidators(i.k0.required),this.registrationForm.get("departement")?.setValidators(i.k0.required),this.registrationForm.get("village")?.setValidators(i.k0.required)):"client"===t?this.registrationForm.get("clientType")?.setValidators(i.k0.required):"investisseur"===t?(this.registrationForm.get("email")?.setValidators([i.k0.required,i.k0.email]),this.registrationForm.get("investorType")?.setValidators(i.k0.required),this.registrationForm.get("montantInvestissement")?.setValidators([i.k0.required,i.k0.min(1e5)])):"agronome"===t&&(this.registrationForm.get("emailPro")?.setValidators(i.k0.email),this.registrationForm.get("telephonePro")?.setValidators(i.k0.pattern(/^(\+221|221)?[76|77|78|33|70|76|77|78][0-9]{7}$/)),this.registrationForm.get("structure")?.setValidators(i.k0.required),this.registrationForm.get("regionsIntervention")?.setValidators(i.k0.required)),this.registrationForm.updateValueAndValidity()}clearValidators(){["idCardRecto","idCardVerso","region","departement","village","clientType","email","investorType","montantInvestissement","emailPro","telephonePro","structure","regionsIntervention"].forEach(t=>{this.registrationForm.get(t)?.clearValidators(),this.registrationForm.get(t)?.updateValueAndValidity()})}createForm(){return this.fb.group({userType:[this.selectedUserType],prenom:["",[i.k0.required,i.k0.minLength(2)]],nom:["",[i.k0.required,i.k0.minLength(2)]],telephone:["",[i.k0.required,i.k0.pattern(/^(\+221|221)?[76|77|78|33|70|76|77|78][0-9]{7}$/)]],idCardRecto:[null],idCardVerso:[null],region:[""],departement:[""],village:[""],clientType:[""],email:[""],investorType:[""],montantInvestissement:[""],emailPro:[""],telephonePro:[""],structure:[""],regionsIntervention:[[]]})}onSubmit(){if(this.registrationForm.valid){this.isLoading=!0;const t=this.registrationForm.value;setTimeout(()=>{console.log("Registration attempt:",t),this.router.navigate(["/connexion"]),this.isLoading=!1},2e3)}else this.registrationForm.markAllAsTouched()}goBack(){this.selectedUserType=null,this.registrationForm=this.createForm()}onRegionChange(t,o){const s=o.target.checked,d=this.registrationForm.get("regionsIntervention")?.value||[];let u;u=s?[...d,t]:d.filter(m=>m!==t),this.registrationForm.get("regionsIntervention")?.setValue(u)}isRegionSelected(t){return(this.registrationForm.get("regionsIntervention")?.value||[]).includes(t)}onFileChange(t,o){const l=t.target,s=l.files?.[0];if(s){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(s.type))return alert("Veuillez s\xe9lectionner un fichier image valide (JPEG, PNG, GIF)"),void(l.value="");if(s.size>5242880)return alert("La taille du fichier ne doit pas d\xe9passer 5MB"),void(l.value="");this.registrationForm.get(o)?.setValue(s);const m=new FileReader;m.onload=_=>{"idCardRecto"===o?this.idCardRectoPreview=_.target?.result:"idCardVerso"===o&&(this.idCardVersoPreview=_.target?.result)},m.readAsDataURL(s)}}removeFile(t){if(this.registrationForm.get(t)?.setValue(null),"idCardRecto"===t){this.idCardRectoPreview=null;const o=document.getElementById("idCardRecto");o&&(o.value="")}else if("idCardVerso"===t){this.idCardVersoPreview=null;const o=document.getElementById("idCardVerso");o&&(o.value="")}}get prenom(){return this.registrationForm.get("prenom")}get nom(){return this.registrationForm.get("nom")}get telephone(){return this.registrationForm.get("telephone")}get idCardRecto(){return this.registrationForm.get("idCardRecto")}get idCardVerso(){return this.registrationForm.get("idCardVerso")}get email(){return this.registrationForm.get("email")}get region(){return this.registrationForm.get("region")}get departement(){return this.registrationForm.get("departement")}get village(){return this.registrationForm.get("village")}get clientType(){return this.registrationForm.get("clientType")}get investorType(){return this.registrationForm.get("investorType")}get montantInvestissement(){return this.registrationForm.get("montantInvestissement")}get emailPro(){return this.registrationForm.get("emailPro")}get telephonePro(){return this.registrationForm.get("telephonePro")}get structure(){return this.registrationForm.get("structure")}get regionsIntervention(){return this.registrationForm.get("regionsIntervention")}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(i.ok),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:21,vars:2,consts:[[1,"absolute","top-8","left-8","z-20"],["routerLink","/",1,"flex","items-center","gap-2","text-white","hover:text-senteranga-green","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"relative","min-h-screen","flex","flex-col","justify-center","items-center","px-8","py-20","pt-20",2,"background","linear-gradient(180deg, rgba(102,102,102,0.08) 0%, rgba(0,0,0,0.7) 43.75%, rgba(0,0,0,0.7) 100%), url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=1920&q=80') center/cover no-repeat"],[1,"max-w-2xl","w-full","z-10"],[1,"bg-white/95","backdrop-blur-sm","rounded-2xl","shadow-2xl","p-8"],[1,"text-center","mb-8"],[1,"text-4xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mb-8",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-gray-600","mb-4"],["routerLink","/connexion",1,"bg-senteranga-green","text-white","py-3","px-6","rounded-lg","hover:bg-senteranga-green-dark","focus:ring-2","focus:ring-offset-2","focus:ring-senteranga-green","transition-colors"],[1,"mb-8"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","cursor-pointer border-2 border-gray-200 rounded-xl p-6 hover:border-senteranga-green hover:bg-green-50 transition-all duration-200",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","border-2","border-gray-200","rounded-xl","p-6","hover:border-senteranga-green","hover:bg-green-50","transition-all","duration-200",3,"click"],[1,"text-center"],[1,"text-4xl","mb-3"],[1,"text-lg","font-semibold","text-gray-800","mb-2"],[1,"text-sm","text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["type","button",1,"flex","items-center","text-senteranga-green","hover:text-senteranga-green-dark","mb-4",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","prenom","formControlName","prenom","placeholder","Votre pr\xe9nom",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["for","nom",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","nom","formControlName","nom","placeholder","Votre nom",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","telephone",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","tel","id","telephone","formControlName","telephone","placeholder","+221 XX XXX XX XX",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["class","space-y-4",4,"ngIf"],[4,"ngIf"],["type","submit",1,"w-full","bg-senteranga-green","text-white","py-3","px-4","rounded-lg","hover:bg-senteranga-green-dark","focus:ring-2","focus:ring-offset-2","focus:ring-senteranga-green","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","mt-8",3,"disabled"],["class","inline-flex items-center",4,"ngIf"],[1,"mt-1","text-sm","text-red-600"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"text-sm","text-gray-600","mb-4"],["for","idCardRecto",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["class","relative",4,"ngIf"],["for","idCardVerso",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["alt","Recto de la carte d'identit\xe9",1,"w-full","h-32","object-cover","rounded-lg","border-2","border-gray-300",3,"src"],["type","button",1,"absolute","top-2","right-2","bg-red-500","text-white","rounded-full","p-1","hover:bg-red-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"absolute","bottom-2","left-2","bg-black","bg-opacity-50","text-white","text-xs","px-2","py-1","rounded"],["type","file","id","idCardRecto","accept","image/*",1,"hidden",3,"change"],["for","idCardRecto",1,"flex","items-center","justify-center","w-full","px-4","py-3","border-2","border-dashed","border-gray-300","rounded-lg","cursor-pointer","hover:border-senteranga-green","hover:bg-green-50","transition-colors"],["stroke","currentColor","fill","none","viewBox","0 0 48 48",1,"mx-auto","h-8","w-8","text-gray-400","mb-2"],["d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-xs","text-gray-500"],["alt","Verso de la carte d'identit\xe9",1,"w-full","h-32","object-cover","rounded-lg","border-2","border-gray-300",3,"src"],["type","file","id","idCardVerso","accept","image/*",1,"hidden",3,"change"],["for","idCardVerso",1,"flex","items-center","justify-center","w-full","px-4","py-3","border-2","border-dashed","border-gray-300","rounded-lg","cursor-pointer","hover:border-senteranga-green","hover:bg-green-50","transition-colors"],["for","region",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","region","formControlName","region",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","departement",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","departement","formControlName","departement","placeholder","Votre d\xe9partement",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","village",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","village","formControlName","village","placeholder","Votre village",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],[3,"value"],[1,"block","text-sm","font-medium","text-gray-700","mb-4"],[1,"space-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],["class","mt-2 text-sm text-red-600",4,"ngIf"],[1,"flex","items-center"],["type","radio","formControlName","clientType",1,"h-4","w-4","text-senteranga-green","focus:ring-senteranga-green","border-gray-300",3,"id","value"],[1,"ml-3","block","text-sm","font-medium","text-gray-700",3,"for"],[1,"mt-2","text-sm","text-red-600"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","email","id","email","formControlName","email","placeholder","votre@email.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","montantInvestissement",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","montantInvestissement","formControlName","montantInvestissement","placeholder","100000","min","100000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["type","radio","formControlName","investorType",1,"h-4","w-4","text-senteranga-green","focus:ring-senteranga-green","border-gray-300",3,"id","value"],["for","emailPro",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","email","id","emailPro","formControlName","emailPro","placeholder","professionnel@email.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","telephonePro",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","tel","id","telephonePro","formControlName","telephonePro","placeholder","+221 XX XXX XX XX",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","structure",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","structure","formControlName","structure","placeholder","Ex: ANCAR, SAED, ONG, projet...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3"],["type","checkbox",1,"h-4","w-4","text-senteranga-green","focus:ring-senteranga-green","border-gray-300","rounded",3,"change","id","checked"],[1,"ml-2","block","text-sm","text-gray-700",3,"for"],[1,"inline-flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"a",1),e.qSk(),e.j41(2,"svg",2),e.nrm(3,"path",3),e.k0s(),e.joV(),e.j41(4,"span",4),e.EFF(5,"Retour au portail"),e.k0s()()(),e.j41(6,"section",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h1",9),e.EFF(11,"Inscription"),e.k0s(),e.j41(12,"p",10),e.EFF(13,"Rejoignez la communaut\xe9 SENTERANGA"),e.k0s()(),e.DNE(14,f,5,1,"div",11)(15,oe,29,18,"form",12),e.k0s(),e.j41(16,"div",13)(17,"p",14),e.EFF(18," D\xe9j\xe0 un compte? "),e.k0s(),e.j41(19,"button",15),e.EFF(20," Se connecter "),e.k0s()()()()),2&o&&(e.R7$(14),e.Y8G("ngIf",!l.selectedUserType),e.R7$(),e.Y8G("ngIf",l.selectedUserType))},dependencies:[c.MD,c.Sq,c.bT,i.X1,i.qT,i.xH,i.y7,i.me,i.Q0,i.wz,i.Fm,i.BC,i.cb,i.VZ,i.j4,i.JD,p.Wk],encapsulation:2})}}return r})()}}]);