"use strict";(self.webpackChunksenteranga=self.webpackChunksenteranga||[]).push([[349],{6349:(_,d,n)=>{n.r(d),n.d(d,{DashboardReservationsComponent:()=>E});var i=n(177),l=n(5776),u=n(4121),v=n(5473),e=n(4438),c=n(6868);function g(r,s){1&r&&(e.j41(0,"div",5),e.qSk(),e.j41(1,"svg",6),e.nrm(2,"path",7),e.k0s(),e.joV(),e.j41(3,"h3",8),e.EFF(4,"Aucune r\xe9servation"),e.k0s(),e.j41(5,"p",9),e.EFF(6,"Vous n'avez pas encore fait de r\xe9servation pour des annonces."),e.k0s(),e.j41(7,"a",10),e.qSk(),e.j41(8,"svg",11),e.nrm(9,"path",12),e.k0s(),e.EFF(10," Explorer les annonces "),e.k0s()())}function p(r,s){1&r&&(e.j41(0,"div",49)(1,"div",16),e.qSk(),e.j41(2,"svg",50),e.nrm(3,"path",25),e.k0s(),e.joV(),e.j41(4,"div")(5,"p",51),e.EFF(6,"R\xe9servation accept\xe9e"),e.k0s(),e.j41(7,"p",52),e.EFF(8,"Vous pouvez maintenant proc\xe9der \xe0 l'achat de ce produit."),e.k0s()()()())}function m(r,s){1&r&&(e.j41(0,"div",53)(1,"div",16),e.qSk(),e.j41(2,"svg",54),e.nrm(3,"path",28),e.k0s(),e.joV(),e.j41(4,"div")(5,"p",55),e.EFF(6,"R\xe9servation refus\xe9e"),e.k0s(),e.j41(7,"p",56),e.EFF(8,"L'agriculteur n'a pas pu accepter votre r\xe9servation."),e.k0s()()()())}function f(r,s){1&r&&(e.j41(0,"div",57)(1,"div",16),e.qSk(),e.j41(2,"svg",58),e.nrm(3,"path",19),e.k0s(),e.joV(),e.j41(4,"div")(5,"p",59),e.EFF(6,"En attente de validation"),e.k0s(),e.j41(7,"p",60),e.EFF(8,"L'agriculteur doit encore valider votre r\xe9servation."),e.k0s()()()())}function h(r,s){1&r&&(e.j41(0,"div",61)(1,"a",62),e.qSk(),e.j41(2,"svg",63),e.nrm(3,"path",64),e.k0s(),e.EFF(4," Acheter maintenant "),e.k0s()())}function x(r,s){if(1&r&&(e.j41(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",38),e.EFF(5),e.k0s()(),e.j41(6,"div",39)(7,"div",40)(8,"h4",31),e.EFF(9),e.k0s(),e.j41(10,"span",41),e.EFF(11),e.k0s()(),e.j41(12,"div",42)(13,"p")(14,"span",43),e.EFF(15,"Quantit\xe9 r\xe9serv\xe9e:"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"p")(18,"span",43),e.EFF(19,"Date de r\xe9servation:"),e.k0s(),e.EFF(20),e.nI1(21,"date"),e.k0s()(),e.DNE(22,p,9,0,"div",44)(23,m,9,0,"div",45)(24,f,9,0,"div",46),e.k0s()(),e.j41(25,"div",47),e.DNE(26,h,5,0,"div",48),e.k0s()()()),2&r){const t=s.$implicit,o=s.index,a=e.XpG(2);e.R7$(5),e.SpI(" ",o+1," "),e.R7$(4),e.JRh(t.productTitle),e.R7$(),e.Y8G("ngClass",a.getStatusColor(t.status)),e.R7$(),e.SpI(" ",a.getStatusText(t.status)," "),e.R7$(5),e.SpI(" ",t.quantity,""),e.R7$(4),e.SpI(" ",e.i5U(21,10,t.reservationDate,"dd/MM/yyyy \xe0 HH:mm"),""),e.R7$(2),e.Y8G("ngIf","fulfilled"===t.status),e.R7$(),e.Y8G("ngIf","cancelled"===t.status),e.R7$(),e.Y8G("ngIf","active"===t.status),e.R7$(2),e.Y8G("ngIf","fulfilled"===t.status)}}function k(r,s){if(1&r&&(e.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),e.qSk(),e.j41(5,"svg",18),e.nrm(6,"path",19),e.k0s()(),e.joV(),e.j41(7,"div",20)(8,"p",21),e.EFF(9,"En attente"),e.k0s(),e.j41(10,"p",22),e.EFF(11),e.k0s()()()(),e.j41(12,"div",15)(13,"div",16)(14,"div",23),e.qSk(),e.j41(15,"svg",24),e.nrm(16,"path",25),e.k0s()(),e.joV(),e.j41(17,"div",20)(18,"p",21),e.EFF(19,"Accept\xe9es"),e.k0s(),e.j41(20,"p",22),e.EFF(21),e.k0s()()()(),e.j41(22,"div",15)(23,"div",16)(24,"div",26),e.qSk(),e.j41(25,"svg",27),e.nrm(26,"path",28),e.k0s()(),e.joV(),e.j41(27,"div",20)(28,"p",21),e.EFF(29,"Refus\xe9es"),e.k0s(),e.j41(30,"p",22),e.EFF(31),e.k0s()()()()(),e.j41(32,"div",29)(33,"div",30)(34,"h3",31),e.EFF(35,"Historique des r\xe9servations"),e.k0s()(),e.j41(36,"div",32),e.DNE(37,x,27,13,"div",33),e.k0s()()()),2&r){const t=e.XpG();e.R7$(11),e.JRh(t.activeReservationsCount),e.R7$(10),e.JRh(t.fulfilledReservationsCount),e.R7$(10),e.JRh(t.cancelledReservationsCount),e.R7$(6),e.Y8G("ngForOf",t.reservations)}}let E=(()=>{class r{constructor(t){this.cartService=t,this.reservations=[],this.currentUser=null}ngOnInit(){const t=localStorage.getItem("currentUser");this.currentUser=t?JSON.parse(t):null,this.currentUser&&this.loadReservations()}loadReservations(){this.currentUser&&this.cartService.getReservationsForClient(this.currentUser.id).subscribe(t=>{this.reservations=t||[]})}getStatusText(t){switch(t){case"active":return"En attente";case"fulfilled":return"Accept\xe9e";case"cancelled":return"Refus\xe9e";default:return"Inconnu"}}getStatusColor(t){switch(t){case"active":return"bg-yellow-100 text-yellow-800";case"fulfilled":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}get activeReservationsCount(){return this.reservations.filter(t=>"active"===t.status).length}get fulfilledReservationsCount(){return this.reservations.filter(t=>"fulfilled"===t.status).length}get cancelledReservationsCount(){return this.reservations.filter(t=>"cancelled"===t.status).length}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(c.m))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dashboard-reservations"]],standalone:!0,features:[e.aNF],decls:8,vars:2,consts:[[1,"pt-20","w-full","px-4","sm:px-6","md:px-8","py-6","sm:py-8","bg-gray-50"],[1,"max-w-7xl","mx-auto"],[1,"text-2xl","sm:text-3xl","md:text-4xl","font-bold","mb-6","sm:mb-8","text-gray-900"],["class","text-center py-12",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-6"],["routerLink","/marche-agricole",1,"inline-flex","items-center","px-4","py-2","bg-senteranga-green","text-white","rounded-lg","hover:bg-senteranga-green-dark","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-6"],[1,"bg-white","rounded-lg","shadow","p-4"],[1,"flex","items-center"],[1,"p-2","bg-yellow-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900"],[1,"p-2","bg-green-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-2","bg-red-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-medium","text-gray-900"],[1,"divide-y","divide-gray-200"],["class","p-6 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"p-6","hover:bg-gray-50","transition-colors"],[1,"flex","items-start","justify-between"],[1,"flex","items-start","space-x-4"],[1,"flex-shrink-0"],[1,"w-10","h-10","bg-senteranga-green","rounded-full","flex","items-center","justify-center","text-white","font-bold"],[1,"flex-1","min-w-0"],[1,"flex","items-center","space-x-3","mb-2"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-sm","text-gray-600","space-y-1"],[1,"font-medium"],["class","mt-3 p-3 bg-green-50 rounded-lg border border-green-200",4,"ngIf"],["class","mt-3 p-3 bg-red-50 rounded-lg border border-red-200",4,"ngIf"],["class","mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",4,"ngIf"],[1,"flex-shrink-0","ml-4"],["class","text-right",4,"ngIf"],[1,"mt-3","p-3","bg-green-50","rounded-lg","border","border-green-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600","mr-2"],[1,"text-sm","font-medium","text-green-800"],[1,"text-xs","text-green-600"],[1,"mt-3","p-3","bg-red-50","rounded-lg","border","border-red-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600","mr-2"],[1,"text-sm","font-medium","text-red-800"],[1,"text-xs","text-red-600"],[1,"mt-3","p-3","bg-yellow-50","rounded-lg","border","border-yellow-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600","mr-2"],[1,"text-sm","font-medium","text-yellow-800"],[1,"text-xs","text-yellow-600"],[1,"text-right"],["routerLink","/marche-agricole",1,"inline-flex","items-center","px-4","py-2","bg-senteranga-green","text-white","text-sm","rounded-lg","hover:bg-senteranga-green-dark","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"]],template:function(o,a){1&o&&(e.nrm(0,"app-header"),e.j41(1,"section",0)(2,"div",1)(3,"h1",2),e.EFF(4,"Mes R\xe9servations"),e.k0s(),e.DNE(5,g,11,0,"div",3)(6,k,38,4,"div",4),e.k0s()(),e.nrm(7,"app-footer")),2&o&&(e.R7$(5),e.Y8G("ngIf",0===a.reservations.length),e.R7$(),e.Y8G("ngIf",a.reservations.length>0))},dependencies:[i.MD,i.YU,i.Sq,i.bT,i.vh,l.iI,l.Wk,u.l,v.n]})}}return r})()}}]);