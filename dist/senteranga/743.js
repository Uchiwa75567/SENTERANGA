"use strict";(self.webpackChunksenteranga=self.webpackChunksenteranga||[]).push([[743],{743:(N,p,u)=>{u.r(p),u.d(p,{DashboardAgriculteurComponent:()=>R});var b=u(467),c=u(177),x=u(5776),_=u(3322),v=u(5473),s=u(4341),e=u(4438),F=u(8174);const y=(o,a,t)=>({"bg-yellow-100 text-yellow-800":o,"bg-green-100 text-green-800":a,"bg-red-100 text-red-800":t});function E(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",55),e.nrm(1,"video",56),e.j41(2,"button",57),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.capturePhoto())}),e.EFF(3," \u{1f4f8} Capturer "),e.k0s()()}}function C(o,a){if(1&o&&(e.j41(0,"div",58),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" \u2713 ",t.uploadedImageCount," image(s) s\xe9lectionn\xe9e(s) ")}}function k(o,a){1&o&&(e.j41(0,"div",59),e.EFF(1," \u26a0\ufe0f Aucune image s\xe9lectionn\xe9e. L'image est obligatoire pour publier un produit. "),e.k0s())}function D(o,a){if(1&o&&(e.j41(0,"div",63)(1,"div",64)(2,"div",65)(3,"div",66),e.EFF(4),e.k0s(),e.j41(5,"div",67),e.EFF(6),e.k0s()(),e.j41(7,"span",68),e.EFF(8),e.k0s()(),e.j41(9,"div",69)(10,"div",70)(11,"strong"),e.EFF(12,"Quantit\xe9:"),e.k0s(),e.EFF(13),e.k0s(),e.j41(14,"div",70)(15,"strong"),e.EFF(16,"Minimum:"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"div",70)(19,"strong"),e.EFF(20,"Prix/unit\xe9:"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"div",70)(23,"strong"),e.EFF(24,"Total:"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"div",71),e.EFF(27),e.k0s()()()),2&o){const t=a.$implicit;e.R7$(4),e.JRh(t.titre),e.R7$(2),e.JRh(t.categorie),e.R7$(),e.Y8G("ngClass",e.sMw(11,y,"en_attente"===t.statutValidation,"valid\xe9"===t.statutValidation,"rejet\xe9"===t.statutValidation)),e.R7$(),e.SpI(" ","en_attente"===t.statutValidation?"\u23f3 En attente":"valid\xe9"===t.statutValidation?"\u2713 Valid\xe9":"\u2717 Rejet\xe9"," "),e.R7$(5),e.Lme(" ",t.quantite," ",t.unite,""),e.R7$(4),e.Lme(" ",t.quantiteMinimale||"-"," ",t.unite,""),e.R7$(4),e.SpI(" ",t.prixParUnite||"-"," FCFA"),e.R7$(4),e.SpI(" ",t.prix," FCFA"),e.R7$(2),e.SpI("\u{1f4cd} ",t.localisation,"")}}function j(o,a){if(1&o&&(e.j41(0,"div",60)(1,"h4",61),e.EFF(2),e.k0s(),e.j41(3,"div",8),e.DNE(4,D,28,15,"div",62),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.SpI("\u{1f4ca} Mes produits (",t.products.length,")"),e.R7$(2),e.Y8G("ngForOf",t.products)}}function P(o,a){1&o&&(e.j41(0,"div",72),e.EFF(1,"Aucun produit trouv\xe9."),e.k0s())}function O(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",75)(1,"div",76)(2,"div",65)(3,"div",77),e.EFF(4),e.k0s(),e.j41(5,"div",78),e.EFF(6),e.k0s()(),e.j41(7,"div",79)(8,"input",80),e.mxI("ngModelChange",function(r){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.seedOrderQty[i.id],r)||(l.seedOrderQty[i.id]=r),e.Njj(r)}),e.k0s(),e.j41(9,"button",81),e.bIt("click",function(){const r=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.orderSeed(r))}),e.EFF(10," Commander "),e.k0s()()()()}if(2&o){const t=a.$implicit,n=e.XpG(2);e.R7$(4),e.JRh(t.name),e.R7$(2),e.Lme("\u{1f4b5} ",t.price," FCFA / ",t.unit||"unit\xe9",""),e.R7$(2),e.R50("ngModel",n.seedOrderQty[t.id])}}function I(o,a){if(1&o&&(e.j41(0,"div",73),e.DNE(1,O,11,4,"div",74),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.seeds)}}function M(o,a){1&o&&(e.j41(0,"div",72),e.EFF(1,"Aucune alerte pour votre r\xe9gion pour le moment."),e.k0s())}function w(o,a){if(1&o&&(e.j41(0,"li",84)(1,"div",85),e.EFF(2),e.k0s(),e.j41(3,"div",67),e.EFF(4),e.k0s()()),2&o){const t=a.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.message)}}function A(o,a){if(1&o&&(e.j41(0,"ul",82),e.DNE(1,w,5,2,"li",83),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.alerts)}}let R=(()=>{class o{constructor(t,n){this.dataService=t,this.fb=n,this.products=[],this.seeds=[],this.seedOrderQty={},this.alerts=[],this.currentUser=null,this.uploadedImageCount=0,this.selectedImages=[],this.cameraActive=!1,this.stream=null}ngOnInit(){const t=localStorage.getItem("currentUser");this.currentUser=t?JSON.parse(t):null,this.productForm=this.fb.group({titre:["",s.k0.required],description:["",s.k0.required],categorie:["",s.k0.required],quantite:["",[s.k0.required,s.k0.min(0)]],quantiteMinimale:["",[s.k0.required,s.k0.min(0)]],prixParUnite:["",[s.k0.required,s.k0.min(0)]],unite:["",s.k0.required],localisation:["",s.k0.required]}),this.bankForm=this.fb.group({bankName:[""],accountNumber:[""]}),this.loadInitial()}loadInitial(){this.currentUser&&(this.dataService.getProductsByUser(this.currentUser.id).subscribe(t=>this.products=t||[]),this.dataService.getSeedsCatalog().subscribe(t=>{this.seeds=t||[],this.seeds.forEach(n=>this.seedOrderQty[n.id]=1)}),this.currentUser.region&&this.dataService.getAlertsByRegion(this.currentUser.region).subscribe(t=>this.alerts=t||[]),this.currentUser.bankAccount&&this.bankForm.patchValue(this.currentUser.bankAccount))}onImagesSelected(t){this.selectedImages=Array.from(t.target.files||[]),this.uploadedImageCount=this.selectedImages.length}startCamera(){this.cameraActive=!0,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(t=>{this.stream=t,setTimeout(()=>{const n=document.getElementById("cameraVideo");n&&(n.srcObject=t)},100)}).catch(t=>{console.error("Camera error:",t),alert("Erreur d'acc\xe8s \xe0 la cam\xe9ra"),this.cameraActive=!1})}capturePhoto(){const t=document.getElementById("cameraVideo"),n=document.getElementById("cameraCanvas");if(!t||!n)return;const r=n.getContext("2d");r&&(n.width=t.videoWidth,n.height=t.videoHeight,r.drawImage(t,0,0),n.toBlob(i=>{if(i){const l=new File([i],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});this.selectedImages.push(l),this.uploadedImageCount=this.selectedImages.length}},"image/jpeg",.95))}stopCamera(){this.cameraActive=!1,this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null)}publishProduct(){var t=this;if(this.productForm.valid&&this.currentUser){if(0===this.selectedImages.length)return alert("\u26a0\ufe0f Une image est obligatoire !\n\nVeuillez importer une photo ou en photographier une avant de publier le produit."),void console.warn("Image upload required but none selected");this.convertImagesToBase64(this.selectedImages).then(function(){var n=(0,b.A)(function*(r){try{let i=[];if(r.length){const d="djha1kqvu";i=yield Promise.all(r.map(function(){var $=(0,b.A)(function*(h,S){const m=new FormData;m.append("file",h),m.append("upload_preset","senteranga_products"),m.append("folder","senteranga_products");const g=yield fetch(`https://api.cloudinary.com/v1_1/${d}/image/upload`,{method:"POST",body:m});if(!g.ok)throw new Error(`Cloudinary upload failed: ${g.statusText}`);return(yield g.json()).secure_url});return function(h,S){return $.apply(this,arguments)}}()))}const l=parseFloat(t.productForm.value.quantite)||0,f=parseFloat(t.productForm.value.prixParUnite)||0,U=l*f,T={id:`prod-${Date.now()}`,agriculteurId:t.currentUser.id,titre:t.productForm.value.titre,description:t.productForm.value.description,categorie:t.productForm.value.categorie,quantite:l,quantiteMinimale:parseFloat(t.productForm.value.quantiteMinimale),prix:U,prixParUnite:f,unite:t.productForm.value.unite,localisation:t.productForm.value.localisation,images:i,statutValidation:"en_attente",statutDisponibilite:"disponible",datePublication:(new Date).toISOString(),dateMaj:(new Date).toISOString()};t.dataService.createProduct(T).subscribe({next:d=>{t.products.unshift(d),alert("Produit publi\xe9 \u2014 en attente de validation"),t.resetProductForm()},error:d=>{console.error("Error publishing product",d),alert("Erreur lors de la publication du produit")}})}catch(i){console.error("Image upload failed",i),alert("\xc9chec lors de l'upload des images")}});return function(r){return n.apply(this,arguments)}}())}else{const n=Object.keys(this.productForm.controls).filter(i=>this.productForm.get(i)?.invalid);console.warn("Product form invalid controls:",n);const r=n.length?n.join(", "):"inconnus";alert("Veuillez remplir tous les champs obligatoires. Champs invalides: "+r)}}resetProductForm(){this.productForm.reset(),this.selectedImages=[],this.uploadedImageCount=0,this.stopCamera()}convertImagesToBase64(t){return Promise.all(t.map(n=>new Promise(r=>{const i=new FileReader;i.onload=()=>{r(i.result)},i.readAsDataURL(n)})))}saveBankAccount(){if(!this.currentUser)return;const t=this.bankForm.value;this.dataService.updateUserBankAccount(this.currentUser.id,{bankName:t.bankName||"",accountNumber:t.accountNumber||""}).subscribe({next:r=>{this.currentUser=r,localStorage.setItem("currentUser",JSON.stringify(r)),alert("Compte bancaire enregistr\xe9")},error:r=>{console.error(r),alert("Erreur lors de l'enregistrement")}})}orderSeed(t){if(!this.currentUser)return;const n=this.seedOrderQty[t.id]||1,r={id:`order-${Date.now()}`,userId:this.currentUser.id,seedId:t.id,seedName:t.name,quantity:n,total:(t.price||0)*n,status:"paid",createdAt:(new Date).toISOString()};this.dataService.createSeedOrder(r).subscribe({next:i=>{alert(`Commande pass\xe9e: ${r.seedName} x${n}`)},error:i=>{console.error(i),alert("Erreur lors de la commande")}})}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(F.u),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-dashboard-agriculteur"]],standalone:!0,features:[e.aNF],decls:126,vars:11,consts:[[1,"pt-20","w-full","px-4","sm:px-6","md:px-8","py-6","sm:py-8","bg-gray-50"],[1,"max-w-7xl","mx-auto"],[1,"text-2xl","sm:text-3xl","md:text-4xl","font-bold","mb-6","sm:mb-8","text-gray-900"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4","sm:gap-6"],[1,"lg:col-span-2","space-y-4","sm:space-y-6"],[1,"bg-white","rounded-lg","shadow","p-4","sm:p-6"],[1,"text-lg","sm:text-xl","font-bold","mb-4","sm:mb-5","text-gray-900"],[1,"space-y-3","sm:space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","sm:gap-4"],[1,"block","text-sm","font-semibold","mb-2","text-gray-700"],["formControlName","titre","placeholder","Ex: Tomates rouges","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["formControlName","categorie","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["value",""],["value","L\xe9gumes"],["value","Fruits"],["value","C\xe9r\xe9ales"],["formControlName","description","rows","4","placeholder","D\xe9crivez votre produit...","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],[1,"grid","grid-cols-2","sm:grid-cols-4","gap-3","sm:gap-4"],["type","number","formControlName","quantite","placeholder","Quantit\xe9","min","0","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["type","number","formControlName","quantiteMinimale","placeholder","Min","min","0","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["formControlName","unite","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["value","kg"],["value","tonne"],["value","litre"],["value","unite"],["type","number","formControlName","prixParUnite","placeholder","Prix","min","0","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["formControlName","localisation","placeholder","Ville, Village, etc.","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],[1,"border-l-4","border-senteranga-green","pl-4"],[1,"block","text-sm","font-bold","mb-3","text-gray-900"],[1,"text-red-600","font-bold"],[1,"ml-2","inline-block","px-2","py-1","bg-red-50","text-red-700","text-xs","font-semibold","rounded"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-3","mb-4"],["type","file","id","fileInput","multiple","","accept","image/*",1,"flex-1","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-sm","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none",3,"change"],["type","button",1,"px-4","py-2","sm:py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","font-medium","text-sm","sm:text-base","whitespace-nowrap",3,"click"],["class","border border-gray-300 rounded-lg p-3 sm:p-4 bg-gray-100 mb-4",4,"ngIf"],["class","text-sm font-medium text-green-600 mt-2 p-3 bg-green-50 rounded-lg",4,"ngIf"],["class","text-sm font-medium text-red-600 mt-2 p-3 bg-red-50 rounded-lg border border-red-200",4,"ngIf"],["id","cameraCanvas",2,"display","none"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-3","pt-2","sm:pt-4"],["type","submit",1,"px-6","py-2","sm:py-3","bg-senteranga-green","text-white","rounded-lg","hover:bg-green-700","font-semibold","text-sm","sm:text-base"],["type","button",1,"px-6","py-2","sm:py-3","bg-gray-200","text-gray-700","rounded-lg","hover:bg-gray-300","font-medium","text-sm","sm:text-base",3,"click"],["class","mt-6 sm:mt-8 pt-6 sm:pt-8 border-t",4,"ngIf"],[1,"text-lg","sm:text-xl","font-bold","mb-3","text-gray-900"],[1,"text-sm","text-gray-600","mb-4"],[1,"w-full","px-6","py-2","sm:py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","font-medium","text-sm","sm:text-base"],["class","text-sm text-gray-600 py-6 text-center bg-gray-50 rounded-lg",4,"ngIf"],["class","space-y-3 sm:space-y-4",4,"ngIf"],[1,"space-y-4","sm:space-y-6"],[1,"text-lg","sm:text-xl","font-bold","mb-4","text-gray-900"],["formControlName","bankName","placeholder","Nom de la banque",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["formControlName","accountNumber","placeholder","IBAN ou num\xe9ro de compte",1,"w-full","border","border-gray-300","rounded-lg","px-3","sm:px-4","py-2","sm:py-3","text-base","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-3"],["type","submit",1,"flex-1","px-4","py-2","sm:py-3","bg-green-600","text-white","rounded-lg","hover:bg-green-700","font-medium","text-sm","sm:text-base"],["type","button",1,"flex-1","px-4","py-2","sm:py-3","bg-gray-200","text-gray-700","rounded-lg","hover:bg-gray-300","font-medium","text-sm","sm:text-base",3,"click"],["class","space-y-3",4,"ngIf"],[1,"border","border-gray-300","rounded-lg","p-3","sm:p-4","bg-gray-100","mb-4"],["id","cameraVideo","autoplay","","playsinline","",1,"w-full","rounded-lg","mb-3",2,"max-height","300px"],["type","button",1,"w-full","px-4","py-2","sm:py-3","bg-green-600","text-white","rounded-lg","hover:bg-green-700","font-medium","text-sm","sm:text-base",3,"click"],[1,"text-sm","font-medium","text-green-600","mt-2","p-3","bg-green-50","rounded-lg"],[1,"text-sm","font-medium","text-red-600","mt-2","p-3","bg-red-50","rounded-lg","border","border-red-200"],[1,"mt-6","sm:mt-8","pt-6","sm:pt-8","border-t"],[1,"text-lg","font-bold","mb-4","text-gray-900"],["class","border border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-white hover:shadow transition",4,"ngFor","ngForOf"],[1,"border","border-gray-300","rounded-lg","p-4","bg-gray-50","hover:bg-white","hover:shadow","transition"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-start","gap-2","mb-3"],[1,"flex-1"],[1,"font-bold","text-gray-900"],[1,"text-xs","text-gray-600","mt-1"],[1,"inline-flex","text-xs","px-3","py-1","rounded-full","font-semibold","whitespace-nowrap",3,"ngClass"],[1,"space-y-1","text-sm"],[1,"text-gray-600"],[1,"text-xs","text-gray-500","mt-2"],[1,"text-sm","text-gray-600","py-6","text-center","bg-gray-50","rounded-lg"],[1,"space-y-3","sm:space-y-4"],["class","border border-gray-300 rounded-lg p-4 hover:shadow transition",4,"ngFor","ngForOf"],[1,"border","border-gray-300","rounded-lg","p-4","hover:shadow","transition"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-3"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","items-center","gap-2","w-full","sm:w-auto"],["type","number","min","1",1,"w-16","border","border-gray-300","rounded-lg","px-2","py-2","text-sm","focus:ring-2","focus:ring-senteranga-green","outline-none",3,"ngModelChange","ngModel"],[1,"flex-1","sm:flex-none","px-4","py-2","bg-senteranga-green","text-white","rounded-lg","hover:bg-green-700","font-medium","text-sm",3,"click"],[1,"space-y-3"],["class","border-l-4 border-orange-500 pl-3 sm:pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-orange-500","pl-3","sm:pl-4","py-2"],[1,"font-semibold","text-gray-900","text-sm"]],template:function(n,r){1&n&&(e.nrm(0,"app-header"),e.j41(1,"section",0)(2,"div",1)(3,"h1",2),e.EFF(4,"Espace Agriculteur"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"div",5)(8,"h2",6),e.EFF(9,"\u{1f4e6} Publier un produit"),e.k0s(),e.j41(10,"form",7),e.bIt("ngSubmit",function(){return r.publishProduct()}),e.j41(11,"div",8)(12,"div")(13,"label",9),e.EFF(14,"Titre *"),e.k0s(),e.nrm(15,"input",10),e.k0s(),e.j41(16,"div")(17,"label",9),e.EFF(18,"Cat\xe9gorie *"),e.k0s(),e.j41(19,"select",11)(20,"option",12),e.EFF(21,"S\xe9lectionner une cat\xe9gorie"),e.k0s(),e.j41(22,"option",13),e.EFF(23,"L\xe9gumes"),e.k0s(),e.j41(24,"option",14),e.EFF(25,"Fruits"),e.k0s(),e.j41(26,"option",15),e.EFF(27,"C\xe9r\xe9ales"),e.k0s()()()(),e.j41(28,"div")(29,"label",9),e.EFF(30,"Description *"),e.k0s(),e.nrm(31,"textarea",16),e.k0s(),e.j41(32,"div",17)(33,"div")(34,"label",9),e.EFF(35,"Quantit\xe9 *"),e.k0s(),e.nrm(36,"input",18),e.k0s(),e.j41(37,"div")(38,"label",9),e.EFF(39,"Min. *"),e.k0s(),e.nrm(40,"input",19),e.k0s(),e.j41(41,"div")(42,"label",9),e.EFF(43,"Unit\xe9 *"),e.k0s(),e.j41(44,"select",20)(45,"option",12),e.EFF(46,"Unit\xe9"),e.k0s(),e.j41(47,"option",21),e.EFF(48,"kg"),e.k0s(),e.j41(49,"option",22),e.EFF(50,"Tonne"),e.k0s(),e.j41(51,"option",23),e.EFF(52,"Litre"),e.k0s(),e.j41(53,"option",24),e.EFF(54,"Unit\xe9"),e.k0s()()(),e.j41(55,"div")(56,"label",9),e.EFF(57,"Prix/unit\xe9 *"),e.k0s(),e.nrm(58,"input",25),e.k0s()(),e.j41(59,"div")(60,"label",9),e.EFF(61,"Localisation *"),e.k0s(),e.nrm(62,"input",26),e.k0s(),e.j41(63,"div",27)(64,"label",28),e.EFF(65," \u{1f4f7} Images "),e.j41(66,"span",29),e.EFF(67,"*"),e.k0s(),e.j41(68,"span",30),e.EFF(69,"OBLIGATOIRE"),e.k0s()(),e.j41(70,"div",31)(71,"input",32),e.bIt("change",function(l){return r.onImagesSelected(l)}),e.k0s(),e.j41(72,"button",33),e.bIt("click",function(){return r.cameraActive?r.stopCamera():r.startCamera()}),e.EFF(73),e.k0s()(),e.DNE(74,E,4,0,"div",34)(75,C,2,1,"div",35)(76,k,2,0,"div",36),e.k0s(),e.nrm(77,"canvas",37),e.j41(78,"div",38)(79,"button",39),e.EFF(80," \u2713 Publier le produit "),e.k0s(),e.j41(81,"button",40),e.bIt("click",function(){return r.resetProductForm()}),e.EFF(82," Annuler "),e.k0s()()(),e.DNE(83,j,5,2,"div",41),e.k0s(),e.j41(84,"div",5)(85,"h2",42),e.EFF(86,"\u{1f4b0} Demande de subvention / investissement"),e.k0s(),e.j41(87,"p",43),e.EFF(88,"Formulaires de demande (subvention / investissement) \u2014 visibilit\xe9 pour les institutions et investisseurs."),e.k0s(),e.j41(89,"button",44),e.EFF(90," Faire une demande "),e.k0s()(),e.j41(91,"div",5)(92,"h2",42),e.EFF(93,"\u{1f331} Catalogue de semences"),e.k0s(),e.j41(94,"p",43),e.EFF(95,"Consultez le catalogue, commandez et payez pour am\xe9liorer votre production."),e.k0s(),e.DNE(96,P,2,0,"div",45)(97,I,2,1,"div",46),e.k0s()(),e.j41(98,"aside",47)(99,"div",5)(100,"h3",48),e.EFF(101,"\u{1f3e6} Compte bancaire"),e.k0s(),e.j41(102,"p",43),e.EFF(103,"Ajouter un compte pour recevoir paiements et subventions."),e.k0s(),e.j41(104,"form",7),e.bIt("ngSubmit",function(){return r.saveBankAccount()}),e.j41(105,"div")(106,"label",9),e.EFF(107,"Banque"),e.k0s(),e.nrm(108,"input",49),e.k0s(),e.j41(109,"div")(110,"label",9),e.EFF(111,"Num\xe9ro de compte"),e.k0s(),e.nrm(112,"input",50),e.k0s(),e.j41(113,"div",51)(114,"button",52),e.EFF(115," \u2713 Enregistrer "),e.k0s(),e.j41(116,"button",53),e.bIt("click",function(){return r.bankForm.reset()}),e.EFF(117," Annuler "),e.k0s()()()(),e.j41(118,"div",5)(119,"h3",48),e.EFF(120,"\u26a0\ufe0f Alertes / Conseils"),e.k0s(),e.j41(121,"p",43),e.EFF(122,"Recevez des alertes filtr\xe9es par r\xe9gion."),e.k0s(),e.DNE(123,M,2,0,"div",45)(124,A,2,1,"ul",54),e.k0s()()()()(),e.nrm(125,"app-footer")),2&n&&(e.R7$(10),e.Y8G("formGroup",r.productForm),e.R7$(63),e.SpI(" ",r.cameraActive?"\u2715 Fermer":"\u{1f4f7} Photo"," "),e.R7$(),e.Y8G("ngIf",r.cameraActive),e.R7$(),e.Y8G("ngIf",r.uploadedImageCount>0),e.R7$(),e.Y8G("ngIf",0===r.uploadedImageCount),e.R7$(7),e.Y8G("ngIf",r.products.length>0),e.R7$(13),e.Y8G("ngIf",0===r.seeds.length),e.R7$(),e.Y8G("ngIf",r.seeds.length>0),e.R7$(7),e.Y8G("formGroup",r.bankForm),e.R7$(19),e.Y8G("ngIf",0===r.alerts.length),e.R7$(),e.Y8G("ngIf",r.alerts.length>0))},dependencies:[c.MD,c.YU,c.Sq,c.bT,x.iI,_.l,v.n,s.X1,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.YS,s.VZ,s.j4,s.JD,s.YN,s.vS],styles:["input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #00843d1a}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .3s ease}@media (max-width: 640px){button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{min-height:44px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:16px}video[_ngcontent-%COMP%]{width:100%;object-fit:cover}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.75rem}.flex-col.sm\\:flex-row[_ngcontent-%COMP%]{gap:.5rem}aside[_ngcontent-%COMP%]{order:2}}@media (min-width: 640px) and (max-width: 1024px){.grid-cols-1.sm\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.grid-cols-2.sm\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.grid-cols-2.sm\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}aside[_ngcontent-%COMP%]{position:sticky;top:120px}}@media (max-width: 640px){h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}h2[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}h3[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.bg-yellow-100[_ngcontent-%COMP%], .bg-green-100[_ngcontent-%COMP%], .bg-red-100[_ngcontent-%COMP%]{white-space:nowrap}.border-gray-300[_ngcontent-%COMP%]{border-width:1px}.focus\\:ring-2[_ngcontent-%COMP%]{transition:box-shadow .2s ease}html[_ngcontent-%COMP%]{scroll-behavior:smooth}#cameraVideo[_ngcontent-%COMP%]{background:#000;border-radius:.5rem;display:block;width:100%}.border-gray-300[_ngcontent-%COMP%]:hover{transition:all .2s ease}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1rem}@media (max-width: 640px){form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.75rem}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}@media (prefers-color-scheme: dark){input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#1f2937;color:#f3f4f6;border-color:#4b5563}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}}"]})}}return o})()}}]);