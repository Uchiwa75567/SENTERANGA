"use strict";(self.webpackChunksenteranga=self.webpackChunksenteranga||[]).push([[195],{7195:(F,l,i)=>{i.r(l),i.d(l,{LoginComponent:()=>k});var d=i(177),t=i(4341),u=i(878),e=i(4438),m=i(9226);function g(r,a){1&r&&(e.j41(0,"div"),e.EFF(1,"L'adresse email est requise"),e.k0s())}function c(r,a){1&r&&(e.j41(0,"div"),e.EFF(1,"Format d'email invalide"),e.k0s())}function p(r,a){if(1&r&&(e.j41(0,"div",28),e.DNE(1,g,2,0,"div",24)(2,c,2,0,"div",24),e.k0s()),2&r){const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==o.email||null==o.email.errors?null:o.email.errors.required),e.R7$(),e.Y8G("ngIf",null==o.email||null==o.email.errors?null:o.email.errors.email)}}function f(r,a){1&r&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis"),e.k0s())}function v(r,a){1&r&&(e.j41(0,"div"),e.EFF(1,"Minimum 6 caract\xe8res"),e.k0s())}function h(r,a){if(1&r&&(e.j41(0,"div",28),e.DNE(1,f,2,0,"div",24)(2,v,2,0,"div",24),e.k0s()),2&r){const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==o.password||null==o.password.errors?null:o.password.errors.required),e.R7$(),e.Y8G("ngIf",null==o.password||null==o.password.errors?null:o.password.errors.minlength)}}function b(r,a){1&r&&(e.j41(0,"span",29),e.qSk(),e.j41(1,"svg",30),e.nrm(2,"circle",31)(3,"path",32),e.k0s(),e.EFF(4," Connexion... "),e.k0s())}function _(r,a){1&r&&(e.j41(0,"span"),e.EFF(1,"Se connecter"),e.k0s())}let k=(()=>{class r{constructor(o,s,n){this.fb=o,this.router=s,this.dataService=n,this.isLoading=!1,this.loginForm=this.fb.group({email:["",[t.k0.required,t.k0.email]],password:["",[t.k0.required,t.k0.minLength(6)]],rememberMe:[!1]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;const{email:o,password:s}=this.loginForm.value;this.dataService.authenticateUser(o,s).subscribe(n=>{n?(console.log("Login successful:",n),this.router.navigate([{agriculteur:"/dashboard-agriculteur",client:"/dashboard-client",admin:"/dashboard-admin",investisseur:"/dashboard-investisseur",agronome:"/dashboard-agronome","agent-terrain":"/dashboard-agent-terrain",etat:"/dashboard-etat"}[n.userType]||"/"])):(console.log("Login failed: Invalid credentials"),alert("Email ou mot de passe incorrect")),this.isLoading=!1})}else this.loginForm.markAllAsTouched()}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(t.ok),e.rXU(u.Ix),e.rXU(m.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-login"]],standalone:!0,features:[e.aNF],decls:40,vars:10,consts:[[1,"absolute","top-8","left-8","z-20"],["routerLink","/",1,"flex","items-center","gap-2","text-white","hover:text-senteranga-green","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"relative","min-h-screen","flex","flex-col","justify-center","items-center","px-8","py-20","pt-20",2,"background","linear-gradient(180deg, rgba(102,102,102,0.08) 0%, rgba(0,0,0,0.7) 43.75%, rgba(0,0,0,0.7) 100%), url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=1920&q=80') center/cover no-repeat"],[1,"max-w-md","w-full","z-10"],[1,"bg-white/95","backdrop-blur-sm","rounded-2xl","shadow-2xl","p-8"],[1,"text-center","mb-8"],[1,"text-4xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","email","id","email","formControlName","email","placeholder","votre@email.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","password","id","password","formControlName","password","placeholder","Votre mot de passe",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["type","checkbox","id","rememberMe","formControlName","rememberMe",1,"h-4","w-4","text-senteranga-green","focus:ring-senteranga-green","border-gray-300","rounded"],["for","rememberMe",1,"ml-2","block","text-sm","text-gray-700"],["href","#",1,"text-sm","text-senteranga-green","hover:text-senteranga-green-dark"],["type","submit",1,"w-full","bg-senteranga-green","text-white","py-3","px-4","rounded-lg","hover:bg-senteranga-green-dark","focus:ring-2","focus:ring-offset-2","focus:ring-senteranga-green","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","inline-flex items-center",4,"ngIf"],[4,"ngIf"],[1,"mt-6","text-center"],[1,"text-gray-600","mb-4"],["routerLink","/inscription",1,"bg-senteranga-green","text-white","py-3","px-6","rounded-lg","hover:bg-senteranga-green-dark","focus:ring-2","focus:ring-offset-2","focus:ring-senteranga-green","transition-colors"],[1,"mt-1","text-sm","text-red-600"],[1,"inline-flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"a",1),e.qSk(),e.j41(2,"svg",2),e.nrm(3,"path",3),e.k0s(),e.joV(),e.j41(4,"span",4),e.EFF(5,"Retour au portail"),e.k0s()()(),e.j41(6,"section",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h1",9),e.EFF(11,"Connexion"),e.k0s(),e.j41(12,"p",10),e.EFF(13,"Acc\xe9dez \xe0 votre compte SENTERANGA"),e.k0s()(),e.j41(14,"form",11),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(15,"div")(16,"label",12),e.EFF(17," Adresse email "),e.k0s(),e.nrm(18,"input",13),e.DNE(19,p,3,2,"div",14),e.k0s(),e.j41(20,"div")(21,"label",15),e.EFF(22," Mot de passe "),e.k0s(),e.nrm(23,"input",16),e.DNE(24,h,3,2,"div",14),e.k0s(),e.j41(25,"div",17)(26,"div",18),e.nrm(27,"input",19),e.j41(28,"label",20),e.EFF(29," Se souvenir de moi "),e.k0s()(),e.j41(30,"a",21),e.EFF(31," Mot de passe oubli\xe9? "),e.k0s()(),e.j41(32,"button",22),e.DNE(33,b,5,0,"span",23)(34,_,2,0,"span",24),e.k0s()()(),e.j41(35,"div",25)(36,"p",26),e.EFF(37," Pas encore de compte? "),e.k0s(),e.j41(38,"button",27),e.EFF(39," S'inscrire "),e.k0s()()()()),2&s&&(e.R7$(14),e.Y8G("formGroup",n.loginForm),e.R7$(4),e.AVh("border-red-500",(null==n.email?null:n.email.invalid)&&(null==n.email?null:n.email.touched)),e.R7$(),e.Y8G("ngIf",(null==n.email?null:n.email.invalid)&&(null==n.email?null:n.email.touched)),e.R7$(4),e.AVh("border-red-500",(null==n.password?null:n.password.invalid)&&(null==n.password?null:n.password.touched)),e.R7$(),e.Y8G("ngIf",(null==n.password?null:n.password.invalid)&&(null==n.password?null:n.password.touched)),e.R7$(8),e.Y8G("disabled",n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading))},dependencies:[d.MD,d.bT,t.X1,t.qT,t.me,t.Zm,t.BC,t.cb,t.j4,t.JD,u.Wk],encapsulation:2})}}return r})()}}]);