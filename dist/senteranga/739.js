"use strict";(self.webpackChunksenteranga=self.webpackChunksenteranga||[]).push([[739],{2739:($,F,m)=>{m.r(F),m.d(F,{RegisterComponent:()=>$e});var b=m(177),l=m(4341),f=m(5776),e=m(4438),R=m(8174);const k=()=>[1,2,3];function C(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",15),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(2);return e.Njj(d.selectUserType(s))}),e.j41(1,"div",16)(2,"div",17),e.EFF(3),e.k0s(),e.j41(4,"h3",18),e.EFF(5),e.k0s(),e.j41(6,"p",19),e.EFF(7),e.k0s()()()}if(2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.icon),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.description)}}function v(n,i){if(1&n&&(e.qex(0),e.DNE(1,C,8,3,"div",14),e.bVm()),2&n){const t=i.$implicit;e.R7$(),e.Y8G("ngIf","admin"!==t.id&&"etat"!==t.id)}}function I(n,i){if(1&n&&(e.j41(0,"div",8)(1,"div",9)(2,"h1",10),e.EFF(3,"Inscription"),e.k0s(),e.j41(4,"p",11),e.EFF(5,"Choisissez votre profil pour continuer"),e.k0s()(),e.j41(6,"div",12),e.DNE(7,v,2,1,"ng-container",13),e.k0s()()),2&n){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.userTypes)}}function r(n,i){if(1&n&&e.nrm(0,"div",42),2&n){const t=e.XpG(2).index,o=e.XpG(2);e.AVh("bg-senteranga-green",o.currentStep>t+1)("bg-gray-200",o.currentStep<=t+1)}}function a(n,i){if(1&n&&(e.j41(0,"div",26)(1,"div",40),e.EFF(2),e.k0s(),e.DNE(3,r,1,4,"div",41),e.k0s()),2&n){const t=e.XpG().index,o=e.XpG(2);e.R7$(),e.AVh("bg-senteranga-green",o.currentStep>=t+1)("text-white",o.currentStep>=t+1)("bg-gray-200",o.currentStep<t+1)("text-gray-600",o.currentStep<t+1),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.Y8G("ngIf",t+1<o.totalSteps)}}function p(n,i){if(1&n&&(e.j41(0,"div",26),e.DNE(1,a,4,10,"div",39),e.k0s()),2&n){const t=i.index,o=e.XpG(2);e.R7$(),e.Y8G("ngIf",t+1<=o.totalSteps)}}function _(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Le pr\xe9nom est requis"),e.k0s())}function c(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Minimum 2 caract\xe8res"),e.k0s())}function g(n,i){if(1&n&&(e.j41(0,"div",54),e.DNE(1,_,2,0,"div",36)(2,c,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenom||null==t.prenom.errors?null:t.prenom.errors.required),e.R7$(),e.Y8G("ngIf",null==t.prenom||null==t.prenom.errors?null:t.prenom.errors.minlength)}}function E(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Le nom est requis"),e.k0s())}function h(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Minimum 2 caract\xe8res"),e.k0s())}function T(n,i){if(1&n&&(e.j41(0,"div",54),e.DNE(1,E,2,0,"div",36)(2,h,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.nom||null==t.nom.errors?null:t.nom.errors.required),e.R7$(),e.Y8G("ngIf",null==t.nom||null==t.nom.errors?null:t.nom.errors.minlength)}}function V(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Le num\xe9ro de t\xe9l\xe9phone est requis"),e.k0s())}function G(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Format invalide (ex: 771234567 ou +221771234567)"),e.k0s())}function w(n,i){if(1&n&&(e.j41(0,"div",54),e.DNE(1,V,2,0,"div",36)(2,G,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.telephone||null==t.telephone.errors?null:t.telephone.errors.required),e.R7$(),e.Y8G("ngIf",null==t.telephone||null==t.telephone.errors?null:t.telephone.errors.pattern)}}function U(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis"),e.k0s())}function S(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir exactement 6 chiffres"),e.k0s())}function P(n,i){if(1&n&&(e.j41(0,"div",54),e.DNE(1,U,2,0,"div",36)(2,S,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.password||null==t.password.errors?null:t.password.errors.required),e.R7$(),e.Y8G("ngIf",null==t.password||null==t.password.errors?null:t.password.errors.pattern)}}function N(n,i){if(1&n&&(e.j41(0,"div",43)(1,"h3",44),e.EFF(2,"\xc9tape 1 : Informations personnelles"),e.k0s(),e.j41(3,"div",12)(4,"div")(5,"label",45),e.EFF(6,"Pr\xe9nom *"),e.k0s(),e.nrm(7,"input",46),e.DNE(8,g,3,2,"div",47),e.k0s(),e.j41(9,"div")(10,"label",48),e.EFF(11,"Nom *"),e.k0s(),e.nrm(12,"input",49),e.DNE(13,T,3,2,"div",47),e.k0s()(),e.j41(14,"div")(15,"label",50),e.EFF(16,"Num\xe9ro de t\xe9l\xe9phone *"),e.k0s(),e.nrm(17,"input",51),e.DNE(18,w,3,2,"div",47),e.k0s(),e.j41(19,"div")(20,"label",52),e.EFF(21,"Mot de passe (6 chiffres) *"),e.k0s(),e.nrm(22,"input",53),e.DNE(23,P,3,2,"div",47),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(7),e.AVh("border-red-500",(null==t.prenom?null:t.prenom.invalid)&&(null==t.prenom?null:t.prenom.touched)),e.R7$(),e.Y8G("ngIf",(null==t.prenom?null:t.prenom.invalid)&&(null==t.prenom?null:t.prenom.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.nom?null:t.nom.invalid)&&(null==t.nom?null:t.nom.touched)),e.R7$(),e.Y8G("ngIf",(null==t.nom?null:t.nom.invalid)&&(null==t.nom?null:t.nom.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.telephone?null:t.telephone.invalid)&&(null==t.telephone?null:t.telephone.touched)),e.R7$(),e.Y8G("ngIf",(null==t.telephone?null:t.telephone.invalid)&&(null==t.telephone?null:t.telephone.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.password?null:t.password.invalid)&&(null==t.password?null:t.password.touched)),e.R7$(),e.Y8G("ngIf",(null==t.password?null:t.password.invalid)&&(null==t.password?null:t.password.touched))}}function Y(n,i){if(1&n&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function X(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"La r\xe9gion est requise"),e.k0s())}function q(n,i){if(1&n&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function A(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le d\xe9partement est requis"),e.k0s())}function L(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le village est requis"),e.k0s())}function B(n,i){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"h3",56),e.EFF(2,"\xc9tape 2 : Localisation"),e.k0s(),e.j41(3,"div",57)(4,"div")(5,"label",58),e.EFF(6,"R\xe9gion *"),e.k0s(),e.j41(7,"select",59),e.bIt("change",function(s){e.eBV(t);const d=e.XpG(3);return e.Njj(d.onRegionChange(s.target.value))}),e.j41(8,"option",60),e.EFF(9,"S\xe9lectionnez une r\xe9gion"),e.k0s(),e.DNE(10,Y,2,2,"option",61),e.k0s(),e.DNE(11,X,2,0,"div",47),e.k0s(),e.j41(12,"div")(13,"label",62),e.EFF(14,"D\xe9partement *"),e.k0s(),e.j41(15,"select",63)(16,"option",60),e.EFF(17,"S\xe9lectionnez un d\xe9partement"),e.k0s(),e.DNE(18,q,2,2,"option",61),e.k0s(),e.DNE(19,A,2,0,"div",47),e.k0s(),e.j41(20,"div")(21,"label",64),e.EFF(22,"Village *"),e.k0s(),e.nrm(23,"input",65),e.DNE(24,L,2,0,"div",47),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(7),e.AVh("border-red-500",(null==t.region?null:t.region.invalid)&&(null==t.region?null:t.region.touched)),e.R7$(3),e.Y8G("ngForOf",t.regions),e.R7$(),e.Y8G("ngIf",(null==t.region?null:t.region.invalid)&&(null==t.region?null:t.region.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.departement?null:t.departement.invalid)&&(null==t.departement?null:t.departement.touched)),e.Y8G("disabled",!(null!=t.region&&t.region.value)),e.R7$(3),e.Y8G("ngForOf",t.selectedRegionDepartements),e.R7$(),e.Y8G("ngIf",(null==t.departement?null:t.departement.invalid)&&(null==t.departement?null:t.departement.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.village?null:t.village.invalid)&&(null==t.village?null:t.village.touched)),e.R7$(),e.Y8G("ngIf",(null==t.village?null:t.village.invalid)&&(null==t.village?null:t.village.touched))}}function D(n,i){if(1&n&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function M(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le type de client est requis"),e.k0s())}function O(n,i){if(1&n&&(e.j41(0,"div")(1,"h3",56),e.EFF(2,"\xc9tape 2 : Type de client"),e.k0s(),e.j41(3,"label",67),e.EFF(4,"Type de client *"),e.k0s(),e.j41(5,"select",68)(6,"option",60),e.EFF(7,"S\xe9lectionnez un type"),e.k0s(),e.DNE(8,D,2,2,"option",61),e.k0s(),e.DNE(9,M,2,0,"div",47),e.k0s()),2&n){const t=e.XpG(3);e.R7$(5),e.AVh("border-red-500",(null==t.clientType?null:t.clientType.invalid)&&(null==t.clientType?null:t.clientType.touched)),e.R7$(3),e.Y8G("ngForOf",t.clientTypes),e.R7$(),e.Y8G("ngIf",(null==t.clientType?null:t.clientType.invalid)&&(null==t.clientType?null:t.clientType.touched))}}function z(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"L'email est requis"),e.k0s())}function J(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Format d'email invalide"),e.k0s())}function W(n,i){if(1&n&&(e.j41(0,"div",54),e.DNE(1,z,2,0,"div",36)(2,J,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.email||null==t.email.errors?null:t.email.errors.required),e.R7$(),e.Y8G("ngIf",null==t.email||null==t.email.errors?null:t.email.errors.email)}}function K(n,i){if(1&n&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function H(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le type d'investisseur est requis"),e.k0s())}function Q(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Le montant est requis"),e.k0s())}function Z(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Montant minimum: 100 000 FCFA"),e.k0s())}function ee(n,i){if(1&n&&(e.j41(0,"div",54),e.DNE(1,Q,2,0,"div",36)(2,Z,2,0,"div",36),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.montantInvestissement||null==t.montantInvestissement.errors?null:t.montantInvestissement.errors.required),e.R7$(),e.Y8G("ngIf",null==t.montantInvestissement||null==t.montantInvestissement.errors?null:t.montantInvestissement.errors.min)}}function te(n,i){if(1&n&&(e.j41(0,"div")(1,"h3",56),e.EFF(2,"\xc9tape 2 : Informations d'investissement"),e.k0s(),e.j41(3,"div",43)(4,"div")(5,"label",69),e.EFF(6,"Email *"),e.k0s(),e.nrm(7,"input",70),e.DNE(8,W,3,2,"div",47),e.k0s(),e.j41(9,"div")(10,"label",71),e.EFF(11,"Type d'investisseur *"),e.k0s(),e.j41(12,"select",72)(13,"option",60),e.EFF(14,"S\xe9lectionnez un type"),e.k0s(),e.DNE(15,K,2,2,"option",61),e.k0s(),e.DNE(16,H,2,0,"div",47),e.k0s(),e.j41(17,"div")(18,"label",73),e.EFF(19,"Montant d'investissement (FCFA) *"),e.k0s(),e.nrm(20,"input",74),e.DNE(21,ee,3,2,"div",47),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(7),e.AVh("border-red-500",(null==t.email?null:t.email.invalid)&&(null==t.email?null:t.email.touched)),e.R7$(),e.Y8G("ngIf",(null==t.email?null:t.email.invalid)&&(null==t.email?null:t.email.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.investorType?null:t.investorType.invalid)&&(null==t.investorType?null:t.investorType.touched)),e.R7$(3),e.Y8G("ngForOf",t.investorTypes),e.R7$(),e.Y8G("ngIf",(null==t.investorType?null:t.investorType.invalid)&&(null==t.investorType?null:t.investorType.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.montantInvestissement?null:t.montantInvestissement.invalid)&&(null==t.montantInvestissement?null:t.montantInvestissement.touched)),e.R7$(),e.Y8G("ngIf",(null==t.montantInvestissement?null:t.montantInvestissement.invalid)&&(null==t.montantInvestissement?null:t.montantInvestissement.touched))}}function ne(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Format d'email invalide"),e.k0s())}function re(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Format invalide"),e.k0s())}function ie(n,i){if(1&n&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function oe(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"La structure est requise"),e.k0s())}function se(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",26)(1,"input",83),e.bIt("change",function(s){const d=e.eBV(t).$implicit,u=e.XpG(4);return e.Njj(u.onRegionInterventionChange(d.name,s))}),e.k0s(),e.j41(2,"label",84),e.EFF(3),e.k0s()()}if(2&n){const t=i.$implicit,o=e.XpG(4);e.R7$(),e.Y8G("id","region-"+t.id)("checked",o.isRegionSelected(t.name)),e.R7$(),e.Y8G("for","region-"+t.id),e.R7$(),e.JRh(t.name)}}function le(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"S\xe9lectionnez au moins une r\xe9gion"),e.k0s())}function ae(n,i){if(1&n&&(e.j41(0,"div")(1,"h3",56),e.EFF(2,"\xc9tape 2 : Informations professionnelles"),e.k0s(),e.j41(3,"div",43)(4,"div",12)(5,"div")(6,"label",75),e.EFF(7,"Email professionnel"),e.k0s(),e.nrm(8,"input",76),e.DNE(9,ne,2,0,"div",47),e.k0s(),e.j41(10,"div")(11,"label",77),e.EFF(12,"T\xe9l\xe9phone professionnel"),e.k0s(),e.nrm(13,"input",78),e.DNE(14,re,2,0,"div",47),e.k0s()(),e.j41(15,"div")(16,"label",79),e.EFF(17,"Structure *"),e.k0s(),e.j41(18,"select",80)(19,"option",60),e.EFF(20,"S\xe9lectionnez une structure"),e.k0s(),e.DNE(21,ie,2,2,"option",61),e.k0s(),e.DNE(22,oe,2,0,"div",47),e.k0s(),e.j41(23,"div")(24,"label",81),e.EFF(25,"R\xe9gions d'intervention *"),e.k0s(),e.j41(26,"div",82),e.DNE(27,se,4,4,"div",31),e.k0s(),e.DNE(28,le,2,0,"div",47),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(8),e.AVh("border-red-500",(null==t.emailPro?null:t.emailPro.invalid)&&(null==t.emailPro?null:t.emailPro.touched)),e.R7$(),e.Y8G("ngIf",(null==t.emailPro?null:t.emailPro.invalid)&&(null==t.emailPro?null:t.emailPro.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.telephonePro?null:t.telephonePro.invalid)&&(null==t.telephonePro?null:t.telephonePro.touched)),e.R7$(),e.Y8G("ngIf",(null==t.telephonePro?null:t.telephonePro.invalid)&&(null==t.telephonePro?null:t.telephonePro.touched)),e.R7$(4),e.AVh("border-red-500",(null==t.structure?null:t.structure.invalid)&&(null==t.structure?null:t.structure.touched)),e.R7$(3),e.Y8G("ngForOf",t.structures),e.R7$(),e.Y8G("ngIf",(null==t.structure?null:t.structure.invalid)&&(null==t.structure?null:t.structure.touched)),e.R7$(5),e.Y8G("ngForOf",t.regions),e.R7$(),e.Y8G("ngIf",(null==t.regionsIntervention?null:t.regionsIntervention.invalid)&&(null==t.regionsIntervention?null:t.regionsIntervention.touched))}}function de(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le code agent est requis"),e.k0s())}function ue(n,i){if(1&n&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function ce(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"La r\xe9gion est requise"),e.k0s())}function ge(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le d\xe9partement est requis"),e.k0s())}function me(n,i){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"h3",56),e.EFF(2,"\xc9tape 2 : Informations agent de terrain"),e.k0s(),e.j41(3,"div",43)(4,"div",12)(5,"div")(6,"label",85),e.EFF(7,"Code agent *"),e.k0s(),e.nrm(8,"input",86),e.DNE(9,de,2,0,"div",47),e.k0s(),e.j41(10,"div")(11,"label",87),e.EFF(12,"R\xe9gion *"),e.k0s(),e.j41(13,"select",88),e.bIt("change",function(s){e.eBV(t);const d=e.XpG(3);return e.Njj(d.onRegionChange(s.target.value))}),e.j41(14,"option",60),e.EFF(15,"S\xe9lectionnez une r\xe9gion"),e.k0s(),e.DNE(16,ue,2,2,"option",61),e.k0s(),e.DNE(17,ce,2,0,"div",47),e.k0s()(),e.j41(18,"div")(19,"label",89),e.EFF(20,"D\xe9partement *"),e.k0s(),e.nrm(21,"input",90),e.DNE(22,ge,2,0,"div",47),e.k0s()()()}if(2&n){let t,o,s,d;const u=e.XpG(3);e.R7$(8),e.AVh("border-red-500",(null==(t=u.registrationForm.get("agentCode"))?null:t.invalid)&&(null==(t=u.registrationForm.get("agentCode"))?null:t.touched)),e.R7$(),e.Y8G("ngIf",(null==(o=u.registrationForm.get("agentCode"))?null:o.invalid)&&(null==(o=u.registrationForm.get("agentCode"))?null:o.touched)),e.R7$(4),e.AVh("border-red-500",(null==u.region?null:u.region.invalid)&&(null==u.region?null:u.region.touched)),e.R7$(3),e.Y8G("ngForOf",u.regions),e.R7$(),e.Y8G("ngIf",(null==u.region?null:u.region.invalid)&&(null==u.region?null:u.region.touched)),e.R7$(4),e.AVh("border-red-500",(null==(s=u.registrationForm.get("department"))?null:s.invalid)&&(null==(s=u.registrationForm.get("department"))?null:s.touched)),e.R7$(),e.Y8G("ngIf",(null==(d=u.registrationForm.get("department"))?null:d.invalid)&&(null==(d=u.registrationForm.get("department"))?null:d.touched))}}function pe(n,i){if(1&n&&(e.j41(0,"div",55),e.DNE(1,B,25,12,"div",36)(2,O,10,4,"div",36)(3,te,22,10,"div",36)(4,ae,29,12,"div",36)(5,me,23,10,"div",36),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf","agriculteur"===t.selectedUserType.id),e.R7$(),e.Y8G("ngIf","client"===t.selectedUserType.id),e.R7$(),e.Y8G("ngIf","investisseur"===t.selectedUserType.id),e.R7$(),e.Y8G("ngIf","agronome"===t.selectedUserType.id),e.R7$(),e.Y8G("ngIf","agent-terrain"===t.selectedUserType.id)}}function _e(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",92),e.nrm(1,"img",93),e.j41(2,"button",94),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.removeFile("idCardRecto"))}),e.qSk(),e.j41(3,"svg",95),e.nrm(4,"path",96),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("src",t.idCardRectoPreview,e.B4B)}}function fe(n,i){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",97),e.bIt("change",function(s){e.eBV(t);const d=e.XpG(3);return e.Njj(d.onFileChange(s,"idCardRecto"))}),e.k0s(),e.j41(2,"label",98),e.qSk(),e.j41(3,"svg",99),e.nrm(4,"path",100),e.k0s(),e.joV(),e.j41(5,"p",19),e.EFF(6,"Cliquez pour s\xe9lectionner"),e.k0s(),e.j41(7,"p",101),e.EFF(8,"PNG, JPG, GIF (max 5MB)"),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(2),e.AVh("border-red-500",(null==t.idCardRecto?null:t.idCardRecto.invalid)&&(null==t.idCardRecto?null:t.idCardRecto.touched))}}function ve(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le recto est requis"),e.k0s())}function he(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",92),e.nrm(1,"img",102),e.j41(2,"button",94),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.removeFile("idCardVerso"))}),e.qSk(),e.j41(3,"svg",95),e.nrm(4,"path",96),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("src",t.idCardVersoPreview,e.B4B)}}function be(n,i){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",103),e.bIt("change",function(s){e.eBV(t);const d=e.XpG(3);return e.Njj(d.onFileChange(s,"idCardVerso"))}),e.k0s(),e.j41(2,"label",104),e.qSk(),e.j41(3,"svg",99),e.nrm(4,"path",100),e.k0s(),e.joV(),e.j41(5,"p",19),e.EFF(6,"Cliquez pour s\xe9lectionner"),e.k0s(),e.j41(7,"p",101),e.EFF(8,"PNG, JPG, GIF (max 5MB)"),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(2),e.AVh("border-red-500",(null==t.idCardVerso?null:t.idCardVerso.invalid)&&(null==t.idCardVerso?null:t.idCardVerso.touched))}}function xe(n,i){1&n&&(e.j41(0,"div",54),e.EFF(1,"Le verso est requis"),e.k0s())}function Fe(n,i){if(1&n&&(e.j41(0,"div",43)(1,"h3",44),e.EFF(2,"\xc9tape 3 : Pi\xe8ce d'identit\xe9"),e.k0s(),e.j41(3,"p",19),e.EFF(4,"Veuillez t\xe9l\xe9charger les deux faces de votre carte d'identit\xe9 nationale"),e.k0s(),e.j41(5,"div",12)(6,"div")(7,"label",81),e.EFF(8,"Recto de la carte d'identit\xe9 *"),e.k0s(),e.DNE(9,_e,5,1,"div",91)(10,fe,9,2,"div",36)(11,ve,2,0,"div",47),e.k0s(),e.j41(12,"div")(13,"label",81),e.EFF(14,"Verso de la carte d'identit\xe9 *"),e.k0s(),e.DNE(15,he,5,1,"div",91)(16,be,9,2,"div",36)(17,xe,2,0,"div",47),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(9),e.Y8G("ngIf",t.idCardRectoPreview),e.R7$(),e.Y8G("ngIf",!t.idCardRectoPreview),e.R7$(),e.Y8G("ngIf",(null==t.idCardRecto?null:t.idCardRecto.invalid)&&(null==t.idCardRecto?null:t.idCardRecto.touched)),e.R7$(4),e.Y8G("ngIf",t.idCardVersoPreview),e.R7$(),e.Y8G("ngIf",!t.idCardVersoPreview),e.R7$(),e.Y8G("ngIf",(null==t.idCardVerso?null:t.idCardVerso.invalid)&&(null==t.idCardVerso?null:t.idCardVerso.touched))}}function Re(n,i){if(1&n){const t=e.RV6();e.j41(0,"button",105),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.previousStep())}),e.EFF(1," Pr\xe9c\xe9dent "),e.k0s()}}function ye(n,i){1&n&&e.nrm(0,"div")}function ke(n,i){if(1&n){const t=e.RV6();e.j41(0,"button",106),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.nextStep())}),e.EFF(1," Suivant "),e.k0s()}}function Ce(n,i){1&n&&(e.j41(0,"span",109),e.qSk(),e.j41(1,"svg",110),e.nrm(2,"circle",111)(3,"path",112),e.k0s(),e.EFF(4," Inscription... "),e.k0s())}function Ee(n,i){1&n&&(e.j41(0,"span"),e.EFF(1,"S'inscrire"),e.k0s())}function Te(n,i){if(1&n&&(e.j41(0,"button",107),e.DNE(1,Ce,5,0,"span",108)(2,Ee,2,0,"span",36),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("disabled",t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading)}}function je(n,i){if(1&n){const t=e.RV6();e.j41(0,"form",20),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSubmit())}),e.j41(1,"button",21),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.goBack())}),e.qSk(),e.j41(2,"svg",22),e.nrm(3,"path",23),e.k0s(),e.EFF(4," Retour au choix du profil "),e.k0s(),e.joV(),e.j41(5,"div",24)(6,"div",25)(7,"div",26)(8,"span",27),e.EFF(9),e.k0s(),e.j41(10,"div")(11,"h3",28),e.EFF(12),e.k0s(),e.j41(13,"p",29),e.EFF(14),e.k0s()()()(),e.j41(15,"div",30),e.DNE(16,p,2,1,"div",31),e.k0s()(),e.DNE(17,N,24,12,"div",32)(18,pe,6,5,"div",33)(19,Fe,18,6,"div",32),e.j41(20,"div",34),e.DNE(21,Re,2,0,"button",35)(22,ye,1,0,"div",36)(23,ke,2,0,"button",37)(24,Te,3,3,"button",38),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.registrationForm),e.R7$(9),e.JRh(t.selectedUserType.icon),e.R7$(3),e.JRh(t.selectedUserType.name),e.R7$(2),e.JRh(t.selectedUserType.description),e.R7$(2),e.Y8G("ngForOf",e.lJ4(12,k)),e.R7$(),e.Y8G("ngIf",1===t.currentStep),e.R7$(),e.Y8G("ngIf",2===t.currentStep),e.R7$(),e.Y8G("ngIf",3===t.currentStep),e.R7$(2),e.Y8G("ngIf",t.currentStep>1),e.R7$(),e.Y8G("ngIf",1===t.currentStep),e.R7$(),e.Y8G("ngIf",t.currentStep<t.totalSteps),e.R7$(),e.Y8G("ngIf",t.currentStep===t.totalSteps)}}let $e=(()=>{class n{constructor(t,o,s){this.fb=t,this.router=o,this.dataService=s,this.selectedUserType=null,this.isLoading=!1,this.currentStep=1,this.totalSteps=3,this.idCardRectoPreview=null,this.idCardVersoPreview=null,this.userTypes=[],this.regions=[],this.clientTypes=[],this.investorTypes=[],this.ministries=[],this.structures=[],this.selectedRegionDepartements=[],this.registrationForm=this.createForm()}ngOnInit(){this.loadData()}loadData(){this.dataService.getUserTypes().subscribe(t=>{this.userTypes=t}),this.dataService.getRegions().subscribe(t=>{this.regions=t}),this.dataService.getClientTypes().subscribe(t=>{this.clientTypes=t}),this.dataService.getInvestorTypes().subscribe(t=>{this.investorTypes=t}),this.dataService.getMinistries().subscribe(t=>{this.ministries=t}),this.dataService.getStructures().subscribe(t=>{this.structures=t})}selectUserType(t){this.selectedUserType=t,this.registrationForm=this.createForm(),this.setValidatorsForUserType(t.id),this.currentStep=1;const o=["agriculteur","client","agronome","agent-terrain"].includes(t.id);this.totalSteps=o?3:2}nextStep(){if(1===this.currentStep){let o=!0;if(["prenom","nom","telephone","password"].forEach(s=>{const d=this.registrationForm.get(s);d?.markAsTouched(),d?.invalid&&(o=!1)}),!o)return}else if(2===this.currentStep&&!this.validateCurrentStepFields())return;this.currentStep<this.totalSteps&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}validateCurrentStepFields(){const t=this.selectedUserType?.id;let o=[];"agriculteur"===t?o=["region","departement","village"]:"client"===t?o=["clientType"]:"investisseur"===t?o=["email","investorType","montantInvestissement"]:"agronome"===t?o=["structure","regionsIntervention"]:"agent-terrain"===t&&(o=["agentCode","region","department"]);let s=!0;return o.forEach(d=>{const u=this.registrationForm.get(d);u?.markAsTouched(),u?.invalid&&(s=!1)}),s}onRegionChange(t){this.dataService.getDepartementsByRegion(t).subscribe(o=>{this.selectedRegionDepartements=o,this.registrationForm.get("departement")?.setValue("")})}onRegionInterventionChange(t,o){const d=o.target.checked,u=this.registrationForm.get("regionsIntervention")?.value||[];let x;x=d?[...u,t]:u.filter(y=>y!==t),this.registrationForm.get("regionsIntervention")?.setValue(x)}isRegionSelected(t){return(this.registrationForm.get("regionsIntervention")?.value||[]).includes(t)}setValidatorsForUserType(t){this.clearValidators(),("agriculteur"===t||"client"===t||"agronome"===t||"agent-terrain"===t)&&(this.registrationForm.get("idCardRecto")?.setValidators(l.k0.required),this.registrationForm.get("idCardVerso")?.setValidators(l.k0.required)),"agriculteur"===t?(this.registrationForm.get("region")?.setValidators(l.k0.required),this.registrationForm.get("departement")?.setValidators(l.k0.required),this.registrationForm.get("village")?.setValidators(l.k0.required)):"client"===t?this.registrationForm.get("clientType")?.setValidators(l.k0.required):"admin"===t?(this.registrationForm.get("adminCode")?.setValidators(l.k0.required),this.registrationForm.get("department")?.setValidators(l.k0.required)):"investisseur"===t?(this.registrationForm.get("email")?.setValidators([l.k0.required,l.k0.email]),this.registrationForm.get("investorType")?.setValidators(l.k0.required),this.registrationForm.get("montantInvestissement")?.setValidators([l.k0.required,l.k0.min(1e5)])):"agronome"===t?(this.registrationForm.get("emailPro")?.setValidators(l.k0.email),this.registrationForm.get("telephonePro")?.setValidators(l.k0.pattern(/^(\+221|221)?(77|76|78|75|70)[0-9]{7}$/)),this.registrationForm.get("structure")?.setValidators(l.k0.required),this.registrationForm.get("regionsIntervention")?.setValidators(l.k0.required)):"agent-terrain"===t?(this.registrationForm.get("agentCode")?.setValidators(l.k0.required),this.registrationForm.get("region")?.setValidators(l.k0.required),this.registrationForm.get("department")?.setValidators(l.k0.required)):"etat"===t&&(this.registrationForm.get("governmentId")?.setValidators(l.k0.required),this.registrationForm.get("ministry")?.setValidators(l.k0.required),this.registrationForm.get("department")?.setValidators(l.k0.required)),this.registrationForm.updateValueAndValidity()}clearValidators(){["idCardRecto","idCardVerso","region","departement","village","clientType","email","investorType","montantInvestissement","emailPro","telephonePro","structure","regionsIntervention"].forEach(t=>{this.registrationForm.get(t)?.clearValidators(),this.registrationForm.get(t)?.updateValueAndValidity()})}createForm(){return this.fb.group({userType:[this.selectedUserType],prenom:["",[l.k0.required,l.k0.minLength(2)]],nom:["",[l.k0.required,l.k0.minLength(2)]],telephone:["",[l.k0.required,l.k0.pattern(/^(\+221|221)?(77|76|78|75|70)[0-9]{7}$/)]],password:["",[l.k0.required,l.k0.pattern(/^[0-9]{6}$/)]],idCardRecto:[null],idCardVerso:[null],region:[""],departement:[""],village:[""],clientType:[""],adminCode:[""],department:[""],email:[""],investorType:[""],montantInvestissement:[""],emailPro:[""],telephonePro:["",l.k0.pattern(/^(\+221|221)?(77|76|78|75|70)[0-9]{7}$/)],structure:[""],regionsIntervention:[[]],agentCode:[""],governmentId:[""],ministry:[""]})}onSubmit(){if(["agriculteur","client","agronome","agent-terrain"].includes(this.selectedUserType?.id||"")){const o=this.registrationForm.get("idCardRecto"),s=this.registrationForm.get("idCardVerso");if(o?.markAsTouched(),s?.markAsTouched(),o?.invalid||s?.invalid)return}if(this.registrationForm.valid){this.isLoading=!0;const o={...this.registrationForm.value,userType:this.selectedUserType};this.dataService.registerUser(o).subscribe(s=>{s.success?(console.log("Registration successful:",s.user),alert("Inscription r\xe9ussie ! Vous pouvez maintenant vous connecter."),this.router.navigate(["/connexion"])):(console.log("Registration failed:",s.error),alert(s.error||"Erreur lors de l'inscription")),this.isLoading=!1})}else this.registrationForm.markAllAsTouched()}goBack(){this.selectedUserType=null,this.registrationForm=this.createForm(),this.currentStep=1}onFileChange(t,o){const s=t.target,d=s.files?.[0];if(d){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(d.type))return alert("Veuillez s\xe9lectionner un fichier image valide (JPEG, PNG, GIF)"),void(s.value="");if(d.size>5242880)return alert("La taille du fichier ne doit pas d\xe9passer 5MB"),void(s.value="");this.registrationForm.get(o)?.setValue(d);const y=new FileReader;y.onload=j=>{"idCardRecto"===o?this.idCardRectoPreview=j.target?.result:"idCardVerso"===o&&(this.idCardVersoPreview=j.target?.result)},y.readAsDataURL(d)}}removeFile(t){if(this.registrationForm.get(t)?.setValue(null),"idCardRecto"===t){this.idCardRectoPreview=null;const o=document.getElementById("idCardRecto");o&&(o.value="")}else if("idCardVerso"===t){this.idCardVersoPreview=null;const o=document.getElementById("idCardVerso");o&&(o.value="")}}get prenom(){return this.registrationForm.get("prenom")}get nom(){return this.registrationForm.get("nom")}get telephone(){return this.registrationForm.get("telephone")}get password(){return this.registrationForm.get("password")}get idCardRecto(){return this.registrationForm.get("idCardRecto")}get idCardVerso(){return this.registrationForm.get("idCardVerso")}get email(){return this.registrationForm.get("email")}get region(){return this.registrationForm.get("region")}get departement(){return this.registrationForm.get("departement")}get village(){return this.registrationForm.get("village")}get clientType(){return this.registrationForm.get("clientType")}get investorType(){return this.registrationForm.get("investorType")}get montantInvestissement(){return this.registrationForm.get("montantInvestissement")}get emailPro(){return this.registrationForm.get("emailPro")}get telephonePro(){return this.registrationForm.get("telephonePro")}get structure(){return this.registrationForm.get("structure")}get regionsIntervention(){return this.registrationForm.get("regionsIntervention")}getFormErrors(){const t={};return Object.keys(this.registrationForm.controls).forEach(o=>{const s=this.registrationForm.get(o);s&&s.errors&&(t[o]=s.errors)}),t}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(l.ok),e.rXU(f.Ix),e.rXU(R.u))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:10,vars:2,consts:[[1,"relative","min-h-screen","flex","flex-col","justify-center","items-center","px-4","md:px-8","py-12",2,"background","linear-gradient(180deg, rgba(102,102,102,0.08) 0%, rgba(0,0,0,0.7) 43.75%, rgba(0,0,0,0.7) 100%), url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=1920&q=80') center/cover no-repeat"],[1,"max-w-4xl","w-full","z-10"],[1,"bg-white/95","backdrop-blur-sm","rounded-2xl","shadow-2xl","p-6"],["class","space-y-6",4,"ngIf"],["class","space-y-5",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-gray-200","mb-3","text-base"],["routerLink","/connexion",1,"bg-white","text-senteranga-green","py-3","px-6","rounded-lg","hover:bg-gray-100","transition-colors","text-base","font-medium"],[1,"space-y-6"],[1,"text-center","mb-6"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-3"],[1,"text-lg","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[4,"ngFor","ngForOf"],["class","cursor-pointer border-2 border-gray-200 rounded-xl p-5 hover:border-senteranga-green hover:bg-green-50 transition-all duration-200",3,"click",4,"ngIf"],[1,"cursor-pointer","border-2","border-gray-200","rounded-xl","p-5","hover:border-senteranga-green","hover:bg-green-50","transition-all","duration-200",3,"click"],[1,"text-center"],[1,"text-4xl","mb-3"],[1,"text-lg","font-semibold","text-gray-800","mb-2"],[1,"text-sm","text-gray-600"],[1,"space-y-5",3,"ngSubmit","formGroup"],["type","button",1,"flex","items-center","text-senteranga-green","hover:text-senteranga-green-dark","text-base",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"flex","items-center"],[1,"text-2xl","mr-3"],[1,"text-base","font-semibold","text-green-800"],[1,"text-xs","text-green-700"],[1,"flex","items-center","justify-center","space-x-3"],["class","flex items-center",4,"ngFor","ngForOf"],["class","space-y-4",4,"ngIf"],["class","space-y-4 max-h-[60vh] overflow-y-auto pr-2",4,"ngIf"],[1,"flex","justify-between","items-center","pt-4","border-t","border-gray-200"],["type","button","class","px-6 py-2 text-base font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",3,"click",4,"ngIf"],[4,"ngIf"],["type","button","class","px-6 py-2 text-base font-medium text-white bg-senteranga-green rounded-lg hover:bg-senteranga-green-dark transition-colors",3,"click",4,"ngIf"],["type","submit","class","px-6 py-2 text-base font-medium text-white bg-senteranga-green rounded-lg hover:bg-senteranga-green-dark transition-colors disabled:opacity-50",3,"disabled",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","justify-center","w-8","h-8","rounded-full","text-xs","font-semibold","transition-all"],["class","w-12 h-1 mx-2",3,"bg-senteranga-green","bg-gray-200",4,"ngIf"],[1,"w-12","h-1","mx-2"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-800","border-b","border-gray-200","pb-2"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","prenom","formControlName","prenom","placeholder","Votre pr\xe9nom",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["for","nom",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","nom","formControlName","nom","placeholder","Votre nom",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","telephone",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","tel","id","telephone","formControlName","telephone","placeholder","+221 XX XXX XX XX",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022","maxlength","6",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","transition-colors"],[1,"mt-1","text-xs","text-red-600"],[1,"space-y-4","max-h-[60vh]","overflow-y-auto","pr-2"],[1,"text-lg","font-semibold","text-gray-800","border-b","border-gray-200","pb-2","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["for","region",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","region","formControlName","region",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","departement",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","departement","formControlName","departement",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none","disabled:bg-gray-100",3,"disabled"],["for","village",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","village","formControlName","village","placeholder","Nom du village",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],[3,"value"],["for","clientType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","clientType","formControlName","clientType",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","id","email","formControlName","email","placeholder","votre.email@exemple.com",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","investorType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","investorType","formControlName","investorType",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","montantInvestissement",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","number","id","montantInvestissement","formControlName","montantInvestissement","placeholder","Minimum 100 000 FCFA","min","100000",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","emailPro",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","id","emailPro","formControlName","emailPro","placeholder","email.pro@exemple.com",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","telephonePro",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","tel","id","telephonePro","formControlName","telephonePro","placeholder","+221 XX XXX XX XX",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","structure",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","structure","formControlName","structure",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-2"],["type","checkbox",1,"w-4","h-4","text-senteranga-green","border-gray-300","rounded","focus:ring-senteranga-green",3,"change","id","checked"],[1,"ml-2","text-sm","text-gray-700",3,"for"],["for","agentCode",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","agentCode","formControlName","agentCode","placeholder","Code d'identification agent",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["for","agentRegion",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","agentRegion","formControlName","region",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none",3,"change"],["for","agentDepartment",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","agentDepartment","formControlName","department","placeholder","D\xe9partement d'affectation",1,"w-full","px-3","py-2","text-base","border-2","border-gray-300","rounded-lg","focus:ring-2","focus:ring-senteranga-green","focus:border-transparent","outline-none"],["class","relative",4,"ngIf"],[1,"relative"],["alt","Recto",1,"w-full","h-48","object-cover","rounded-lg","border-2","border-gray-300",3,"src"],["type","button",1,"absolute","top-2","right-2","bg-red-500","text-white","rounded-full","p-2","hover:bg-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","file","id","idCardRecto","accept","image/*",1,"hidden",3,"change"],["for","idCardRecto",1,"flex","flex-col","items-center","justify-center","w-full","px-4","py-8","border-2","border-dashed","border-gray-300","rounded-lg","cursor-pointer","hover:border-senteranga-green","hover:bg-green-50"],["stroke","currentColor","fill","none","viewBox","0 0 48 48",1,"w-12","h-12","text-gray-400","mb-3"],["d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-xs","text-gray-500"],["alt","Verso",1,"w-full","h-48","object-cover","rounded-lg","border-2","border-gray-300",3,"src"],["type","file","id","idCardVerso","accept","image/*",1,"hidden",3,"change"],["for","idCardVerso",1,"flex","flex-col","items-center","justify-center","w-full","px-4","py-8","border-2","border-dashed","border-gray-300","rounded-lg","cursor-pointer","hover:border-senteranga-green","hover:bg-green-50"],["type","button",1,"px-6","py-2","text-base","font-medium","text-gray-700","bg-gray-200","rounded-lg","hover:bg-gray-300","transition-colors",3,"click"],["type","button",1,"px-6","py-2","text-base","font-medium","text-white","bg-senteranga-green","rounded-lg","hover:bg-senteranga-green-dark","transition-colors",3,"click"],["type","submit",1,"px-6","py-2","text-base","font-medium","text-white","bg-senteranga-green","rounded-lg","hover:bg-senteranga-green-dark","transition-colors","disabled:opacity-50",3,"disabled"],["class","inline-flex items-center",4,"ngIf"],[1,"inline-flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(o,s){1&o&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2),e.DNE(3,I,8,1,"div",3)(4,je,25,13,"form",4),e.k0s(),e.j41(5,"div",5)(6,"p",6),e.EFF(7,"D\xe9j\xe0 un compte?"),e.k0s(),e.j41(8,"button",7),e.EFF(9," Se connecter "),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("ngIf",!s.selectedUserType),e.R7$(),e.Y8G("ngIf",s.selectedUserType))},dependencies:[b.MD,b.Sq,b.bT,l.X1,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.tU,l.VZ,l.j4,l.JD,f.Wk],encapsulation:2})}}return n})()},8174:($,F,m)=>{m.d(F,{u:()=>C});var l=m(7673),f=m(6354),e=m(9437),R=m(4438),k=m(1626);let C=(()=>{class v{constructor(r){this.http=r,this.apiUrl="https://json-server-senteranga.onrender.com/api"}getRegions(){return this.http.get(`${this.apiUrl}/regions`)}updateUser(r){return this.http.put(`${this.apiUrl}/users/${r.id}`,r)}createNotification(r){return this.http.post(`${this.apiUrl}/notifications`,r)}getUserTypes(){return this.http.get(`${this.apiUrl}/userTypes`)}getClientTypes(){return this.http.get(`${this.apiUrl}/clientTypes`)}getInvestorTypes(){return this.http.get(`${this.apiUrl}/investorTypes`)}getMinistries(){return this.http.get(`${this.apiUrl}/ministries`)}getStructures(){return this.http.get(`${this.apiUrl}/structures`)}getCertifications(){return this.http.get(`${this.apiUrl}/certifications`)}getTestUsers(){return this.http.get(`${this.apiUrl}/users`)}authenticateUser(r,a){const p=r.replace(/^(\+221|221)/,""),_=this.getRegisteredUsersFromStorage();return this.getTestUsers().pipe((0,f.T)(c=>c.find(h=>(h.phone||"").toString().replace(/^(\+221|221)/,"")===p&&h.password===a)||_.find(h=>(h.phone||"").toString().replace(/^(\+221|221)/,"")===p&&h.password===a)||null))}registerUser(r){const a=r.telephone.replace(/^(\+221|221)/,"");return this.getTestUsers().pipe((0,f.T)(p=>{if(p.find(g=>g.phone.replace(/^(\+221|221)/,"")===a))return{success:!1,error:"Un compte avec ce num\xe9ro de t\xe9l\xe9phone existe d\xe9j\xe0"};const c={id:`user-${Date.now()}`,email:r.email||"",password:r.password,userType:r.userType.id,firstName:r.prenom,lastName:r.nom,phone:r.telephone,region:r.region||void 0,department:r.departement||r.department||void 0,village:r.village||void 0,clientType:r.clientType||void 0,investorType:r.investorType||void 0,investmentAmount:r.montantInvestissement||void 0,professionalEmail:r.emailPro||void 0,structure:r.structure||void 0,interventionRegions:r.regionsIntervention||void 0,governmentId:r.governmentId||void 0,ministry:r.ministry||void 0,agentCode:r.agentCode||void 0,adminCode:r.adminCode||void 0,isValidated:!1,validationStatus:"pending",bankAccount:void 0};return this.http.post(`${this.apiUrl}/users`,c).subscribe({next:g=>{console.log("User registered successfully:",g)},error:g=>{console.error("Error saving user:",g)}}),{success:!0,user:c}}))}getRegisteredUsersFromStorage(){const r=localStorage.getItem("registeredUsers");return r?JSON.parse(r):[]}getDepartementsByRegion(r){return this.getRegions().pipe((0,f.T)(a=>{const p=a.find(_=>_.id===r);return p?p.departements:[]}))}createAnnouncement(r){return this.http.post(`${this.apiUrl}/announcements`,r)}getAnnouncementsByUser(r){return this.http.get(`${this.apiUrl}/announcements?userId=${r}`)}getNotificationsForUser(r){return this.http.get(`${this.apiUrl}/notifications?userId=${r}&_sort=createdAt&_order=desc`)}markNotificationRead(r){return this.http.patch(`${this.apiUrl}/notifications/${r}`,{read:!0})}updateUserBankAccount(r,a){return this.http.patch(`${this.apiUrl}/users/${r}`,{bankAccount:a})}getSeedsCatalog(){return this.http.get(`${this.apiUrl}/seeds`).pipe((0,e.W)(r=>(console.warn("seeds endpoint missing or error",r),(0,l.of)([]))))}createSeedOrder(r){return this.http.post(`${this.apiUrl}/seedOrders`,r)}getAlertsByRegion(r){return this.http.get(`${this.apiUrl}/agronomeAlerts?region=${r}`)}createProduct(r){return this.http.post(`${this.apiUrl}/products`,r)}getProductsByUser(r){return this.http.get(`${this.apiUrl}/products?agriculteurId=${r}`)}getProductsByCategory(r){return this.http.get(`${this.apiUrl}/products?categorie=${r}`)}getProductById(r){return this.http.get(`${this.apiUrl}/products/${r}`)}updateProduct(r){return this.http.put(`${this.apiUrl}/products/${r.id}`,r)}updateProductStatus(r,a,p){const _={statutValidation:a,dateMaj:(new Date).toISOString()};return p&&(_.statutDisponibilite=p),this.http.patch(`${this.apiUrl}/products/${r}`,_)}deleteProduct(r){return this.http.delete(`${this.apiUrl}/products/${r}`)}getAllProducts(){return this.http.get(`${this.apiUrl}/products`)}validateUserRegistration(r,a){return this.getUserTypes().pipe((0,f.T)(p=>{const _=p.find(g=>g.id===r);if(!_)return{valid:!1,errors:["Type d'utilisateur invalide"]};const c=[];return _.requiredFields.forEach(g=>{a[g]||c.push(`Le champ ${g} est requis`)}),"agriculteur"===r&&(a.region||c.push("La r\xe9gion est requise"),a.departement||c.push("Le d\xe9partement est requis"),a.village||c.push("Le village est requis")),"client"===r&&(a.clientType||c.push("Le type de client est requis")),"investisseur"===r&&((!a.email||!this.isValidEmail(a.email))&&c.push("Email invalide"),a.investorType||c.push("Le type d'investisseur est requis"),(!a.montantInvestissement||a.montantInvestissement<1e5)&&c.push("Montant minimum: 100 000 FCFA")),"agronome"===r&&((!a.emailPro||!this.isValidEmail(a.emailPro))&&c.push("Email professionnel invalide"),a.structure||c.push("La structure est requise"),(!a.regionsIntervention||0===a.regionsIntervention.length)&&c.push("Au moins une r\xe9gion d'intervention requise")),{valid:0===c.length,errors:c}}))}isValidEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}static{this.\u0275fac=function(a){return new(a||v)(R.KVO(k.Qq))}}static{this.\u0275prov=R.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()}}]);