{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/data.service\";\nimport * as i4 from \"@angular/common\";\nfunction LoginComponent_div_19_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le num\\u00E9ro de t\\u00E9l\\u00E9phone est requis\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_19_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Format invalide (9 chiffres requis)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, LoginComponent_div_19_div_1_Template, 2, 0, \"div\", 24)(2, LoginComponent_div_19_div_2_Template, 2, 0, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.phone == null ? null : ctx_r0.phone.errors == null ? null : ctx_r0.phone.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.phone == null ? null : ctx_r0.phone.errors == null ? null : ctx_r0.phone.errors[\"pattern\"]);\n  }\n}\nfunction LoginComponent_div_24_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le mot de passe est requis\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Minimum 6 caract\\u00E8res\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, LoginComponent_div_24_div_1_Template, 2, 0, \"div\", 24)(2, LoginComponent_div_24_div_2_Template, 2, 0, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.password == null ? null : ctx_r0.password.errors == null ? null : ctx_r0.password.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.password == null ? null : ctx_r0.password.errors == null ? null : ctx_r0.password.errors[\"minlength\"]);\n  }\n}\nfunction LoginComponent_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 30);\n    i0.ɵɵelement(2, \"circle\", 31)(3, \"path\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Connexion... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Se connecter\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, router, dataService) {\n      this.fb = fb;\n      this.router = router;\n      this.dataService = dataService;\n      this.isLoading = false;\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        rememberMe: [false]\n      });\n    }\n    onSubmit() {\n      if (this.loginForm.valid) {\n        this.isLoading = true;\n        const {\n          email,\n          password\n        } = this.loginForm.value;\n        this.dataService.authenticateUser(email, password).subscribe(user => {\n          if (user) {\n            console.log('Login successful:', user);\n            // Navigate based on user type\n            const userTypeRoutes = {\n              'agriculteur': '/dashboard-agriculteur',\n              'client': '/dashboard-client',\n              'admin': '/dashboard-admin',\n              'investisseur': '/dashboard-investisseur',\n              'agronome': '/dashboard-agronome',\n              'agent-terrain': '/dashboard-agent-terrain',\n              'etat': '/dashboard-etat'\n            };\n            const route = userTypeRoutes[user.userType] || '/';\n            this.router.navigate([route]);\n          } else {\n            console.log('Login failed: Invalid credentials');\n            alert('Email ou mot de passe incorrect');\n          }\n          this.isLoading = false;\n        });\n      } else {\n        // Mark all fields as touched to show validation errors\n        this.loginForm.markAllAsTouched();\n      }\n    }\n    get email() {\n      return this.loginForm.get('email');\n    }\n    get password() {\n      return this.loginForm.get('password');\n    }\n    static {\n      this.ɵfac = function LoginComponent_Factory(t) {\n        return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DataService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginComponent,\n        selectors: [[\"app-login\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 40,\n        vars: 10,\n        consts: [[1, \"absolute\", \"top-8\", \"left-8\", \"z-20\"], [\"routerLink\", \"/\", 1, \"flex\", \"items-center\", \"gap-2\", \"text-white\", \"hover:text-senteranga-green\", \"transition-colors\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 19l-7-7 7-7\"], [1, \"font-medium\"], [1, \"relative\", \"min-h-screen\", \"flex\", \"flex-col\", \"justify-center\", \"items-center\", \"px-8\", \"py-20\", \"pt-20\", 2, \"background\", \"linear-gradient(180deg, rgba(102,102,102,0.08) 0%, rgba(0,0,0,0.7) 43.75%, rgba(0,0,0,0.7) 100%), url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=1920&q=80') center/cover no-repeat\"], [1, \"max-w-md\", \"w-full\", \"z-10\"], [1, \"bg-white/95\", \"backdrop-blur-sm\", \"rounded-2xl\", \"shadow-2xl\", \"p-8\"], [1, \"text-center\", \"mb-8\"], [1, \"text-4xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [1, \"text-gray-600\"], [1, \"space-y-6\", 3, \"ngSubmit\", \"formGroup\"], [\"for\", \"phone\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [\"type\", \"tel\", \"id\", \"phone\", \"formControlName\", \"phone\", \"placeholder\", \"336237675\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\", \"transition-colors\"], [\"class\", \"mt-1 text-sm text-red-600\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Votre mot de passe\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-senteranga-green\", \"focus:border-transparent\", \"outline-none\", \"transition-colors\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\"], [\"type\", \"checkbox\", \"id\", \"rememberMe\", \"formControlName\", \"rememberMe\", 1, \"h-4\", \"w-4\", \"text-senteranga-green\", \"focus:ring-senteranga-green\", \"border-gray-300\", \"rounded\"], [\"for\", \"rememberMe\", 1, \"ml-2\", \"block\", \"text-sm\", \"text-gray-700\"], [\"href\", \"#\", 1, \"text-sm\", \"text-senteranga-green\", \"hover:text-senteranga-green-dark\"], [\"type\", \"submit\", 1, \"w-full\", \"bg-senteranga-green\", \"text-white\", \"py-3\", \"px-4\", \"rounded-lg\", \"hover:bg-senteranga-green-dark\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-senteranga-green\", \"transition-colors\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"disabled\"], [\"class\", \"inline-flex items-center\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"mt-6\", \"text-center\"], [1, \"text-gray-600\", \"mb-4\"], [\"routerLink\", \"/inscription\", 1, \"bg-senteranga-green\", \"text-white\", \"py-3\", \"px-6\", \"rounded-lg\", \"hover:bg-senteranga-green-dark\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-senteranga-green\", \"transition-colors\"], [1, \"mt-1\", \"text-sm\", \"text-red-600\"], [1, \"inline-flex\", \"items-center\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 1, \"animate-spin\", \"-ml-1\", \"mr-3\", \"h-5\", \"w-5\", \"text-white\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"10\", \"stroke\", \"currentColor\", \"stroke-width\", \"4\", 1, \"opacity-25\"], [\"fill\", \"currentColor\", \"d\", \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\", 1, \"opacity-75\"]],\n        template: function LoginComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(2, \"svg\", 2);\n            i0.ɵɵelement(3, \"path\", 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(4, \"span\", 4);\n            i0.ɵɵtext(5, \"Retour au portail\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(6, \"section\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"h1\", 9);\n            i0.ɵɵtext(11, \"Connexion\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"p\", 10);\n            i0.ɵɵtext(13, \"Acc\\u00E9dez \\u00E0 votre compte SENTERANGA\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"form\", 11);\n            i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_14_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(15, \"div\")(16, \"label\", 12);\n            i0.ɵɵtext(17, \" Num\\u00E9ro de t\\u00E9l\\u00E9phone \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(18, \"input\", 13);\n            i0.ɵɵtemplate(19, LoginComponent_div_19_Template, 3, 2, \"div\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"div\")(21, \"label\", 15);\n            i0.ɵɵtext(22, \" Mot de passe \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(23, \"input\", 16);\n            i0.ɵɵtemplate(24, LoginComponent_div_24_Template, 3, 2, \"div\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"div\", 17)(26, \"div\", 18);\n            i0.ɵɵelement(27, \"input\", 19);\n            i0.ɵɵelementStart(28, \"label\", 20);\n            i0.ɵɵtext(29, \" Se souvenir de moi \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(30, \"a\", 21);\n            i0.ɵɵtext(31, \" Mot de passe oubli\\u00E9? \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"button\", 22);\n            i0.ɵɵtemplate(33, LoginComponent_span_33_Template, 5, 0, \"span\", 23)(34, LoginComponent_span_34_Template, 2, 0, \"span\", 24);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(35, \"div\", 25)(36, \"p\", 26);\n            i0.ɵɵtext(37, \" Pas encore de compte? \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"button\", 27);\n            i0.ɵɵtext(39, \" S'inscrire \");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(14);\n            i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"border-red-500\", (ctx.phone == null ? null : ctx.phone.invalid) && (ctx.phone == null ? null : ctx.phone.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (ctx.phone == null ? null : ctx.phone.invalid) && (ctx.phone == null ? null : ctx.phone.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"border-red-500\", (ctx.password == null ? null : ctx.password.invalid) && (ctx.password == null ? null : ctx.password.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (ctx.password == null ? null : ctx.password.invalid) && (ctx.password == null ? null : ctx.password.touched));\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n          }\n        },\n        dependencies: [CommonModule, i4.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}